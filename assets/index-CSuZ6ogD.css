@import"https://fonts.googleapis.com/css2?family=DotGothic16&display=swap";:root{--bg-primary: #0f0e17;--bg-secondary: #1a1a2e;--bg-panel: #16213e;--bg-dialogue: #1a1a2eee;--text-primary: #e8e8e8;--text-secondary: #a7a7c4;--text-accent: #ff6e6e;--text-speaker: #ffd700;--hp-color: #e94560;--hp-bg: #3a0e17;--mp-color: #4e9af5;--mp-bg: #0e1a3a;--exp-color: #50fa7b;--exp-bg: #0e3a1a;--btn-primary: #e94560;--btn-hover: #ff6e6e;--btn-disabled: #333355;--btn-text: #ffffff;--border-color: #333366;--border-glow: #e9456055;--game-width: 800px;--game-height: 600px;--pixel-size: 4px;--border-width: 3px}*{margin:0;padding:0;box-sizing:border-box}body{font-family:DotGothic16,monospace,sans-serif;background:var(--bg-primary);color:var(--text-primary);display:flex;justify-content:center;align-items:center;min-height:100vh;overflow:hidden;image-rendering:pixelated}#app{width:var(--game-width);max-width:100vw;height:var(--game-height);max-height:100vh;background:var(--bg-secondary);position:relative;overflow:hidden;border:var(--border-width) solid var(--border-color);box-shadow:0 0 30px var(--border-glow)}.hidden{display:none!important}.pixel-border{border:var(--border-width) solid var(--border-color);box-shadow:inset 0 0 0 1px var(--bg-secondary),0 0 0 1px var(--border-color)}.game-background{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;transition:background-color .5s ease}.bg-street{background:linear-gradient(180deg,#2c3e50,#34495e 40%,#555,#666)}.bg-subway{background:linear-gradient(180deg,#1a1a2e,#16213e,#0f3460)}.bg-office{background:linear-gradient(180deg,#2c2c54,#474787,#2c2c54)}.bg-office_battle{background:linear-gradient(180deg,#4a0000,#2c2c54,#1a1a2e)}.bg-office_sunset{background:linear-gradient(180deg,#ff6348,#ffa502 30%,#2c2c54 70%,#1a1a2e)}.bg-office_dark{background:linear-gradient(180deg,#0a0a15,#1a1a2e,#0a0a15)}.bg-office_night{background:linear-gradient(180deg,#0a0a20,#1a1a3e,#0a0a20)}.bg-glitch{background:linear-gradient(180deg,#e94560,#0f0e17,#e94560,#0f0e17 60%,#e94560);animation:glitch-bg .3s infinite}@keyframes glitch-bg{0%,to{filter:none}25%{filter:hue-rotate(90deg)}50%{filter:hue-rotate(180deg)}75%{filter:hue-rotate(270deg)}}.stat-bar{position:relative;height:20px;border-radius:2px;overflow:hidden;background:var(--hp-bg)}.stat-bar-fill{height:100%;transition:width .3s ease;position:absolute;top:0;left:0}.stat-bar-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:11px;text-shadow:1px 1px 0 #000;z-index:1;white-space:nowrap}.hp-bar{background:var(--hp-bg)}.hp-fill{background:var(--hp-color)}.mp-bar{background:var(--mp-bg)}.mp-fill{background:var(--mp-color)}.exp-bar{background:var(--exp-bg);height:14px}.exp-fill{background:var(--exp-color)}.exp-bar .stat-bar-text{font-size:9px}button{font-family:DotGothic16,monospace,sans-serif;cursor:pointer;border:none;outline:none}button:disabled{cursor:not-allowed;opacity:.5}@media(max-width:820px){:root{--game-width: 100vw;--game-height: 100vh}#app{border:none;box-shadow:none;border-radius:0}}.dialogue-box{position:absolute;bottom:0;left:0;right:0;height:180px;background:var(--bg-dialogue);border-top:var(--border-width) solid var(--border-color);padding:16px 24px;z-index:10;cursor:pointer;display:flex;flex-direction:column}.dialogue-speaker{font-size:16px;color:var(--text-speaker);margin-bottom:8px;text-shadow:0 0 8px var(--text-speaker);letter-spacing:2px}.dialogue-text{font-size:15px;line-height:1.8;color:var(--text-primary);flex:1;overflow-y:auto}.dialogue-next{position:absolute;bottom:12px;right:20px;color:var(--text-accent);font-size:16px;animation:bounce .8s infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(4px)}}.choice-buttons{position:absolute;bottom:190px;left:0;right:0;display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px;z-index:10}.choice-btn{width:80%;max-width:500px;padding:12px 20px;background:var(--bg-panel);color:var(--text-primary);border:2px solid var(--border-color);font-size:14px;text-align:left;transition:all .15s ease;position:relative}.choice-btn:before{content:"â–¶ ";color:var(--text-accent);opacity:0;transition:opacity .15s}.choice-btn:hover:not(:disabled){background:var(--btn-primary);border-color:var(--btn-hover);transform:translate(4px)}.choice-btn:hover:not(:disabled):before{opacity:1}.choice-btn.disabled{color:var(--text-secondary);border-color:var(--btn-disabled);background:var(--bg-primary)}.title-screen{position:absolute;top:0;left:0;width:100%;height:100%;background:var(--bg-primary);display:flex;align-items:center;justify-content:center;z-index:100}.title-content{text-align:center;display:flex;flex-direction:column;align-items:center;gap:32px}.title-text{font-size:48px;color:var(--text-accent);text-shadow:0 0 10px var(--text-accent),0 0 30px var(--text-accent),4px 4px 0 #000;letter-spacing:8px;animation:title-glow 2s ease-in-out infinite alternate}@keyframes title-glow{0%{text-shadow:0 0 10px var(--text-accent),0 0 30px var(--text-accent),4px 4px 0 #000}to{text-shadow:0 0 20px var(--text-accent),0 0 60px var(--text-accent),4px 4px 0 #000}}.title-subtitle{font-size:16px;color:var(--text-secondary);margin-top:8px;letter-spacing:4px}.title-menu{display:flex;flex-direction:column;gap:12px}.title-btn{padding:14px 48px;font-size:16px;background:transparent;color:var(--text-primary);border:2px solid var(--border-color);transition:all .2s;min-width:220px}.title-btn:hover:not(:disabled){background:var(--btn-primary);border-color:var(--btn-hover);color:#fff;transform:scale(1.02)}.title-btn.disabled{color:var(--text-secondary);border-color:var(--btn-disabled)}.title-footer{font-size:11px;color:var(--text-secondary)}.save-slots,.save-dialog{display:flex;flex-direction:column;gap:8px;width:100%;max-width:400px}.slot-btn{display:flex;flex-direction:column;padding:12px 16px;background:var(--bg-panel);color:var(--text-primary);border:2px solid var(--border-color);font-size:13px;text-align:left;transition:all .15s}.slot-btn:hover:not(:disabled){border-color:var(--btn-primary);background:var(--bg-secondary)}.slot-btn.empty{opacity:.4}.slot-label{color:var(--text-speaker);font-size:14px}.slot-info{color:var(--text-secondary);font-size:11px;margin-top:4px}.slot-back{text-align:center;color:var(--text-secondary);margin-top:8px}.save-dialog{position:absolute;top:40px;right:0;background:var(--bg-panel);border:2px solid var(--border-color);padding:12px;z-index:50;min-width:280px}.save-dialog-header{font-size:14px;color:var(--text-speaker);margin-bottom:8px;text-align:center}.menu-bar{position:absolute;top:0;right:0;display:flex;gap:4px;padding:8px;z-index:20}.menu-btn{width:36px;height:36px;background:var(--bg-panel);border:2px solid var(--border-color);font-size:16px;display:flex;align-items:center;justify-content:center;transition:all .15s}.menu-btn:hover{border-color:var(--btn-primary);background:var(--bg-secondary)}.stats-panel{position:absolute;top:0;left:0;padding:8px 12px;z-index:20;display:flex;flex-direction:column;gap:4px;min-width:200px;background:var(--bg-dialogue);border-bottom:2px solid var(--border-color);border-right:2px solid var(--border-color)}.stat-row{display:flex;align-items:center;gap:8px;font-size:13px}.stat-label{color:var(--text-secondary)}.stat-value{color:var(--text-primary);font-weight:700}.gold-label{margin-left:auto}.stat-bar-container{display:flex;flex-direction:column;gap:4px}.exp-row{margin-top:2px}.death-screen{position:absolute;top:0;left:0;width:100%;height:100%;background:#0a0000f2;display:flex;align-items:center;justify-content:center;z-index:100;animation:fade-in .8s ease}.death-content{text-align:center;display:flex;flex-direction:column;align-items:center;gap:24px;max-width:400px;width:90%}.death-title{font-size:36px;color:var(--text-accent);text-shadow:0 0 10px var(--text-accent),0 0 40px var(--text-accent);letter-spacing:6px;animation:death-pulse 2s ease-in-out infinite alternate}@keyframes death-pulse{0%{opacity:.7;text-shadow:0 0 10px var(--text-accent)}to{opacity:1;text-shadow:0 0 20px var(--text-accent),0 0 60px var(--text-accent)}}.death-stats{width:100%;background:var(--bg-panel);border:2px solid var(--border-color);padding:16px}.death-stat-title{color:var(--text-speaker);font-size:14px;margin-bottom:12px;letter-spacing:2px}.death-stat-row{display:flex;justify-content:space-between;padding:4px 0;font-size:13px;color:var(--text-secondary)}.death-stat-row span:last-child{color:var(--text-primary)}.death-rewards{width:100%}.death-reward-title{color:var(--exp-color);font-size:15px;margin-bottom:8px;letter-spacing:2px;text-shadow:0 0 8px var(--exp-color)}.death-reward-item{background:var(--bg-panel);border:1px solid var(--exp-color);padding:8px 12px;margin-bottom:4px;font-size:13px;color:var(--text-primary);animation:slide-up .4s ease}.death-restart-btn{padding:14px 48px;font-size:16px;background:transparent;color:var(--text-primary);border:2px solid var(--text-accent);transition:all .2s;min-width:220px;margin-top:8px}.death-restart-btn:hover{background:var(--text-accent);color:var(--bg-primary);transform:scale(1.02);box-shadow:0 0 20px var(--text-accent)}.death-run-info{font-size:11px;color:var(--text-secondary);letter-spacing:2px}.title-run-info{font-size:13px;color:var(--text-secondary);letter-spacing:2px;padding:4px 16px;border:1px solid var(--border-color);background:var(--bg-panel)}.perks-panel{display:flex;flex-direction:column;gap:8px;width:100%;max-width:400px}.perks-title{color:var(--text-speaker);font-size:15px;letter-spacing:2px;margin-bottom:4px}.perks-empty{color:var(--text-secondary);font-size:12px}.perk-item{display:flex;flex-direction:column;gap:2px;padding:8px 12px;background:var(--bg-panel);border:1px solid var(--border-color)}.perk-name{color:var(--exp-color);font-size:13px}.perk-desc{color:var(--text-secondary);font-size:11px}.perks-bonus-title{color:var(--text-speaker);font-size:13px;margin-top:8px;letter-spacing:1px}.perk-bonus{color:var(--text-primary);font-size:13px;padding:4px 12px;background:var(--bg-panel);border-left:3px solid var(--exp-color)}.combat-ui{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;z-index:15}.combat-enemy{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px 20px;gap:12px}.enemy-sprite{width:80px;height:80px;image-rendering:pixelated}.enemy-default{background:var(--text-accent);clip-path:polygon(20% 0%,80% 0%,100% 20%,100% 60%,80% 80%,60% 100%,40% 100%,20% 80%,0% 60%,0% 20%)}.enemy-boss{position:relative;background:var(--bg-panel);border:3px solid var(--text-accent);display:flex;align-items:center;justify-content:center;font-size:48px;line-height:1}.enemy-boss:after{content:"ðŸ˜¡";font-size:48px}.enemy-name{font-size:16px;color:var(--text-accent);text-shadow:0 0 8px var(--text-accent)}.enemy-hp-bar{width:200px;background:var(--hp-bg)}.enemy-hp-fill{background:var(--hp-color)}.combat-log{background:var(--bg-dialogue);border-top:2px solid var(--border-color);border-bottom:2px solid var(--border-color);padding:12px 20px;min-height:100px;max-height:140px;overflow-y:auto;display:flex;flex-direction:column;gap:4px}.combat-log-line{font-size:13px;color:var(--text-primary);animation:log-appear .2s ease}.combat-log-line:last-child{color:var(--text-accent)}@keyframes log-appear{0%{opacity:0;transform:translate(-8px)}to{opacity:1;transform:translate(0)}}.combat-actions{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:12px 20px;background:var(--bg-panel)}.combat-btn{padding:14px;background:var(--bg-secondary);color:var(--text-primary);border:2px solid var(--border-color);font-size:14px;transition:all .15s}.combat-btn:hover:not(:disabled){background:var(--btn-primary);border-color:var(--btn-hover);color:#fff}.combat-btn:disabled{background:var(--bg-primary);color:var(--text-secondary);border-color:var(--btn-disabled)}.combat-items{position:absolute;bottom:120px;left:50%;transform:translate(-50%);background:var(--bg-panel);border:2px solid var(--border-color);padding:12px;display:flex;flex-direction:column;gap:6px;min-width:220px;z-index:25}.combat-items .item-btn{padding:10px 16px;background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color);font-size:13px;text-align:left;transition:all .15s}.combat-items .item-btn:hover{background:var(--btn-primary);color:#fff}.combat-items .item-close{text-align:center;color:var(--text-secondary);border-color:var(--btn-disabled)}.no-items{font-size:12px;color:var(--text-secondary);text-align:center;padding:8px}.combat-result{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:30;animation:fade-in .5s ease}.combat-result-text{font-size:36px;text-shadow:0 0 20px currentColor,4px 4px 0 #000;letter-spacing:8px}.combat-result.victory{color:var(--exp-color)}.combat-result.defeat{color:var(--hp-color)}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}.fade-in{animation:fade-in .4s ease}.fade-out{animation:fade-out .4s ease forwards}@keyframes shake{0%,to{transform:translate(0)}10%{transform:translate(-6px)}30%{transform:translate(6px)}50%{transform:translate(-4px)}70%{transform:translate(4px)}90%{transform:translate(-2px)}}.shake{animation:shake .4s ease}@keyframes enemy-hit{0%,to{opacity:1;filter:brightness(1)}25%{opacity:.3;filter:brightness(3)}50%{opacity:1;filter:brightness(1)}75%{opacity:.3;filter:brightness(3)}}.enemy-hit{animation:enemy-hit .4s ease}@keyframes slide-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.slide-up{animation:slide-up .3s ease}@keyframes pop{0%{transform:scale(.5);opacity:0}70%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.pop{animation:pop .3s ease}@keyframes blink{0%,to{opacity:1}50%{opacity:0}}.blink{animation:blink 1s step-end infinite}@keyframes level-up-flash{0%{box-shadow:0 0 0 0 var(--exp-color)}50%{box-shadow:0 0 40px 10px var(--exp-color)}to{box-shadow:0 0 0 0 transparent}}.level-up-flash{animation:level-up-flash .8s ease}@keyframes scene-transition{0%{opacity:1}50%{opacity:0}to{opacity:1}}.scene-transition{animation:scene-transition .6s ease}.inventory-panel{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:320px;max-height:400px;background:var(--bg-panel);border:2px solid var(--border-color);z-index:50;display:flex;flex-direction:column;animation:pop .2s ease}.inventory-header{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;border-bottom:2px solid var(--border-color)}.inventory-title{font-size:14px;color:var(--text-speaker)}.inventory-close{width:28px;height:28px;background:transparent;color:var(--text-secondary);font-size:16px;display:flex;align-items:center;justify-content:center;border:1px solid transparent;transition:all .15s}.inventory-close:hover{color:var(--text-accent);border-color:var(--text-accent)}.inventory-list{overflow-y:auto;padding:8px;display:flex;flex-direction:column;gap:6px}.inventory-item{background:var(--bg-secondary);border:1px solid var(--border-color);padding:10px 12px;display:flex;flex-direction:column;gap:4px}.item-info{display:flex;justify-content:space-between;align-items:center}.item-name{font-size:13px;color:var(--text-primary)}.item-qty,.item-desc{font-size:11px;color:var(--text-secondary)}.item-use-btn{align-self:flex-end;padding:4px 12px;background:var(--bg-panel);color:var(--text-primary);border:1px solid var(--border-color);font-size:11px;margin-top:4px;transition:all .15s}.item-use-btn:hover{background:var(--btn-primary);color:#fff}.inventory-empty{text-align:center;color:var(--text-secondary);font-size:12px;padding:20px}.toast{position:absolute;top:60px;left:50%;transform:translate(-50%);background:var(--bg-panel);color:var(--text-primary);border:2px solid var(--border-color);padding:10px 24px;font-size:13px;z-index:60;animation:toast-show 2s ease forwards}.toast.success{border-color:var(--exp-color);color:var(--exp-color)}.toast.error{border-color:var(--hp-color);color:var(--hp-color)}@keyframes toast-show{0%{opacity:0;transform:translate(-50%) translateY(-10px)}15%{opacity:1;transform:translate(-50%) translateY(0)}85%{opacity:1}to{opacity:0}}
