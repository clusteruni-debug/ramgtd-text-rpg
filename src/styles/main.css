/* ===== 변수/폰트/리셋 ===== */
@import url('https://fonts.googleapis.com/css2?family=DotGothic16&display=swap');

:root {
  /* 색상 팔레트 - 레트로 픽셀 감성 */
  --bg-primary: #0f0e17;
  --bg-secondary: #1a1a2e;
  --bg-panel: #16213e;
  --bg-dialogue: #1a1a2eee;

  --text-primary: #e8e8e8;
  --text-secondary: #a7a7c4;
  --text-accent: #ff6e6e;
  --text-speaker: #ffd700;

  --hp-color: #e94560;
  --hp-bg: #3a0e17;
  --mp-color: #4e9af5;
  --mp-bg: #0e1a3a;
  --exp-color: #50fa7b;
  --exp-bg: #0e3a1a;

  --btn-primary: #e94560;
  --btn-hover: #ff6e6e;
  --btn-disabled: #333355;
  --btn-text: #ffffff;

  --border-color: #333366;
  --border-glow: #e9456055;

  /* 사이즈 */
  --game-width: 800px;
  --game-height: 600px;
  --pixel-size: 4px;
  --border-width: 3px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'DotGothic16', monospace, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden;
  image-rendering: pixelated;
}

#app {
  width: var(--game-width);
  max-width: 100vw;
  height: var(--game-height);
  max-height: 100vh;
  background: var(--bg-secondary);
  position: relative;
  overflow: hidden;
  border: var(--border-width) solid var(--border-color);
  box-shadow: 0 0 30px var(--border-glow);
}

/* ===== 공통 ===== */
.hidden {
  display: none !important;
}

/* 픽셀 보더 */
.pixel-border {
  border: var(--border-width) solid var(--border-color);
  box-shadow:
    inset 0 0 0 1px var(--bg-secondary),
    0 0 0 1px var(--border-color);
}

/* ===== 배경 ===== */
.game-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  transition: background-color 0.5s ease;
}

.bg-street {
  background: linear-gradient(180deg, #2c3e50 0%, #34495e 40%, #555 70%, #666 100%);
}

.bg-subway {
  background: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
}

.bg-office {
  background: linear-gradient(180deg, #2c2c54 0%, #474787 50%, #2c2c54 100%);
}

.bg-office_battle {
  background: linear-gradient(180deg, #4a0000 0%, #2c2c54 50%, #1a1a2e 100%);
}

.bg-office_sunset {
  background: linear-gradient(180deg, #ff6348 0%, #ffa502 30%, #2c2c54 70%, #1a1a2e 100%);
}

.bg-office_dark {
  background: linear-gradient(180deg, #0a0a15 0%, #1a1a2e 50%, #0a0a15 100%);
}

.bg-office_night {
  background: linear-gradient(180deg, #0a0a20 0%, #1a1a3e 50%, #0a0a20 100%);
}

.bg-glitch {
  background: linear-gradient(180deg, #e94560 0%, #0f0e17 20%, #e94560 40%, #0f0e17 60%, #e94560 100%);
  animation: glitch-bg 0.3s infinite;
}

@keyframes glitch-bg {
  0%, 100% { filter: none; }
  25% { filter: hue-rotate(90deg); }
  50% { filter: hue-rotate(180deg); }
  75% { filter: hue-rotate(270deg); }
}

/* ===== 스탯 바 공통 ===== */
.stat-bar {
  position: relative;
  height: 20px;
  border-radius: 2px;
  overflow: hidden;
  background: var(--hp-bg);
}

.stat-bar-fill {
  height: 100%;
  transition: width 0.3s ease;
  position: absolute;
  top: 0;
  left: 0;
}

.stat-bar-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 11px;
  text-shadow: 1px 1px 0 #000;
  z-index: 1;
  white-space: nowrap;
}

/* HP 바 */
.hp-bar { background: var(--hp-bg); }
.hp-fill { background: var(--hp-color); }

/* MP 바 */
.mp-bar { background: var(--mp-bg); }
.mp-fill { background: var(--mp-color); }

/* EXP 바 */
.exp-bar { background: var(--exp-bg); height: 14px; }
.exp-fill { background: var(--exp-color); }
.exp-bar .stat-bar-text { font-size: 9px; }

/* ===== 공통 버튼 ===== */
button {
  font-family: 'DotGothic16', monospace, sans-serif;
  cursor: pointer;
  border: none;
  outline: none;
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* ===== 반응형 ===== */
@media (max-width: 820px) {
  :root {
    --game-width: 100vw;
    --game-height: 100vh;
  }

  #app {
    border: none;
    box-shadow: none;
    border-radius: 0;
  }
}
