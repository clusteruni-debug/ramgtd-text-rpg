[
  {
    "id": "b1_entrance",
    "type": "dialogue",
    "background": "hall",
    "speaker": null,
    "text": "거대한 공간이 펼쳐진다. 천장은 보이지 않을 만큼 높고, 희미한 붉은 빛이 어디선가 맥동하고 있다. 세 갈래 길이 앞에 놓여 있다. 각 입구 위에 글씨가 새겨져 있다.",
    "choices": [
      {
        "text": "기억의 복도 — '과거를 직면하라'",
        "effects": [
          { "type": "setFlag", "flag": "chose_corridor" }
        ],
        "nextScene": "corridor_01"
      },
      {
        "text": "울음의 방 — '타인의 고통을 보라'",
        "effects": [
          { "type": "setFlag", "flag": "chose_crying" }
        ],
        "nextScene": "crying_01"
      },
      {
        "text": "침묵의 길 — '고통 없는 세계'",
        "effects": [
          { "type": "setFlag", "flag": "chose_silence" }
        ],
        "nextScene": "silence_01"
      }
    ]
  },

  {
    "id": "corridor_01",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "보라색 안개가 가득한 복도. 벽에 거울 같은 것들이 줄지어 있지만, 당신의 모습은 비치지 않는다. 대신 흐릿한 장면들이 — 기억의 파편들이 재생되고 있다.",
    "choices": [
      {
        "text": "첫 번째 거울을 본다",
        "nextScene": "corridor_02"
      }
    ]
  },
  {
    "id": "corridor_02",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "거울 속에 장면이 보인다. 어린 시절의 자신 — 어두운 방에서 무릎을 끌어안고 울고 있다. 무슨 일이 있었는지는 기억나지 않지만, 그 감정만큼은 선명하다. 외로움.",
    "choices": [
      {
        "text": "기억을 직면한다 (HP -15)",
        "effects": [
          { "type": "modifyStat", "stat": "hp", "value": -5 },
          { "type": "setFlag", "flag": "faced_memory_1" },
          { "type": "addItem", "item": "shard_of_memory" }
        ],
        "nextScene": "corridor_03"
      },
      {
        "text": "눈을 돌린다",
        "effects": [
          { "type": "setFlag", "flag": "avoided_memory_1" }
        ],
        "nextScene": "corridor_03_skip"
      }
    ]
  },
  {
    "id": "corridor_03",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "고통이 밀려온다. 머리가 깨질 듯 아프다. 하지만 — 기억의 파편 하나가 손에 남았다. 유리 조각처럼 차갑고 투명한 것. 뭔가를 이해한 것 같은 느낌이 스친다.",
    "choices": [
      {
        "text": "다음 거울로 간다",
        "nextScene": "corridor_04"
      }
    ]
  },
  {
    "id": "corridor_03_skip",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "눈을 돌리자 거울이 깨진다. 조각이 바닥에 흩어지지만, 손에 남는 건 없다. 안전하지만... 뭔가 놓친 기분이다.",
    "choices": [
      {
        "text": "다음 거울로 간다",
        "nextScene": "corridor_04"
      }
    ]
  },
  {
    "id": "corridor_04",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "두 번째 거울. 이번에는 좀 더 선명하다. 누군가에게 등을 돌리고 있는 자신. 상대가 뭔가 말하고 있지만 소리가 들리지 않는다. 당신은 걸어가고 있다. 도망치듯이.",
    "choices": [
      {
        "text": "기억을 직면한다 (HP -15)",
        "effects": [
          { "type": "modifyStat", "stat": "hp", "value": -5 },
          { "type": "setFlag", "flag": "faced_memory_2" },
          { "type": "addItem", "item": "shard_of_memory" }
        ],
        "nextScene": "corridor_05"
      },
      {
        "text": "눈을 돌린다",
        "effects": [
          { "type": "setFlag", "flag": "avoided_memory_2" }
        ],
        "nextScene": "corridor_05_skip"
      }
    ]
  },
  {
    "id": "corridor_05",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "도망쳤다. 무엇에서인지는 모르지만, 도망쳤다는 것만은 확실하다. 가슴이 조인다. 그 사람의 표정이 — 아직 기억나지 않는다. 하지만 기억의 파편이 하나 더 손에 남는다.",
    "effects": [
      { "type": "addItem", "item": "faded_photo" }
    ],
    "choices": [
      {
        "text": "계속 앞으로",
        "nextScene": "corridor_06"
      }
    ]
  },
  {
    "id": "corridor_05_skip",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "또 눈을 돌렸다. 두 번째 거울도 깨진다. 복도가 점점 좁아지는 것 같다. 뭔가가 답답하다.",
    "choices": [
      {
        "text": "계속 앞으로",
        "nextScene": "corridor_06"
      }
    ]
  },
  {
    "id": "corridor_06",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "복도 끝에 마지막 거울이 있다. 이 거울은 다르다 — 당신의 모습이 비친다. 하지만 거울 속의 당신은 웃고 있지 않다. 눈이 텅 비어 있다.",
    "choices": [
      {
        "text": "거울 속의 나와 마주한다",
        "effects": [
          { "type": "setFlag", "flag": "faced_shadow" }
        ],
        "nextScene": "corridor_battle"
      },
      {
        "text": "그냥 지나친다",
        "nextScene": "corridor_end"
      }
    ]
  },
  {
    "id": "corridor_battle",
    "type": "combat",
    "background": "corridor",
    "enemy": "shadow_self",
    "introText": "거울에서 그림자가 빠져나온다. 당신과 같은 모습이지만 — 텅 비어 있다. 그림자 자아가 공격해온다!",
    "victoryScene": "corridor_victory",
    "rewards": { "engrams": 10 },
    "rounds": [
      {
        "text": "그림자가 당신의 동작을 그대로 따라하며 공격해온다. 마치 거울 속에서 싸우는 것 같다.",
        "choices": [
          {
            "text": "정면으로 맞선다",
            "check": { "stat": "body", "dc": 5 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": {
              "text": "그림자의 공격을 정면으로 받아치며 밀어낸다. 자신을 직면하는 것 — 그것이 힘이 된다.",
              "effects": [],
              "endCombat": true
            },
            "failure": {
              "text": "그림자의 공격이 더 빠르다. 자신의 약점을 누구보다 잘 아는 건 자기 자신이니까.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }]
            }
          },
          {
            "text": "움직임의 패턴을 읽는다",
            "check": { "stat": "sense", "dc": 5 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": {
              "text": "그림자의 움직임에서 빈틈을 발견한다. 결국 그것은 당신의 빈틈이기도 하다. 그것을 인정하자 그림자가 흩어진다.",
              "effects": [],
              "endCombat": true
            },
            "failure": {
              "text": "그림자가 너무 빠르다. 자신의 움직임을 예측하는 것은 생각보다 어렵다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -4 }]
            }
          },
          {
            "text": "\"넌 나잖아. 멈춰.\"",
            "check": { "stat": "reason", "dc": 6 },
            "alignment": "light",
            "karmaShift": 5,
            "success": {
              "text": "그림자가 멈칫한다. 당신의 말이 맞다. 싸울 필요가 없다. 그림자가 천천히 녹아 사라진다.",
              "effects": [{ "type": "modifyKarma", "value": 5 }],
              "endCombat": true
            },
            "failure": {
              "text": "그림자가 비웃는다. 아니, 당신이 당신을 비웃는 것이다. 말만으로는 부족하다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -3 }]
            }
          }
        ]
      }
    ]
  },
  {
    "id": "corridor_victory",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "그림자가 흩어진다. 남은 건 — 이상하게도 가벼운 마음. 기억은 아직 선명하지 않지만, 도망치지 않은 것만으로 뭔가가 달라진 기분이다.",
    "effects": [
      { "type": "setFlag", "flag": "defeated_shadow" },
      { "type": "unlock", "unlock": "shadow_defeated" },
      { "type": "addPermanentBonus", "stat": "body", "value": 1 }
    ],
    "choices": [
      {
        "text": "중앙홀로 돌아간다",
        "nextScene": "b1_hub"
      }
    ]
  },
  {
    "id": "corridor_end",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "복도가 끝났다. 다시 넓은 공간으로 나왔다. 기억의 복도에서 뭘 얻었는지는... 아직 모르겠다.",
    "choices": [
      {
        "text": "중앙홀로 돌아간다",
        "nextScene": "b1_hub"
      }
    ]
  },

  {
    "id": "crying_01",
    "type": "dialogue",
    "background": "crying",
    "speaker": null,
    "text": "어두운 파란빛 공간. 벽에서 물이 스며나오고 있다. 아니 — 눈물이다. 벽 전체가 울고 있다. 저 깊은 곳에서 누군가의 흐느끼는 소리가 들린다.",
    "choices": [
      {
        "text": "소리를 따라간다",
        "nextScene": "crying_02"
      }
    ]
  },
  {
    "id": "crying_02",
    "type": "dialogue",
    "background": "crying",
    "speaker": null,
    "text": "웅크린 존재를 발견한다. 얼굴이 없다 — 눈, 코, 입이 있어야 할 자리가 매끈하게 비어 있다. 그런데도 울고 있다. 온 몸으로.",
    "choices": [
      {
        "text": "말을 건다",
        "nextScene": "crying_03"
      },
      {
        "text": "조용히 옆에 앉는다",
        "effects": [
          { "type": "setFlag", "flag": "sat_with_lost" }
        ],
        "nextScene": "crying_03b"
      },
      {
        "text": "지나친다",
        "nextScene": "crying_skip"
      }
    ]
  },
  {
    "id": "crying_03",
    "type": "dialogue",
    "background": "crying",
    "speaker": "lost_one",
    "text": "\"...다 잃어버렸어. 이름도. 얼굴도. 기억도. 남은 건 이 고통뿐이야.\" 얼굴 없는 존재가 떨리는 목소리로 말한다. \"너도... 뭔가 잃어버렸지?\"",
    "choices": [
      {
        "text": "나도 기억을 잃었다",
        "effects": [
          { "type": "setFlag", "flag": "empathized_lost" }
        ],
        "nextScene": "crying_04"
      },
      {
        "text": "도와줄 수 있을까?",
        "nextScene": "crying_04_help"
      }
    ]
  },
  {
    "id": "crying_03b",
    "type": "dialogue",
    "background": "crying",
    "speaker": null,
    "text": "아무 말도 하지 않고 옆에 앉는다. 한참을 그렇게 있었다. 존재의 울음이 조금 잦아든다. 말은 필요 없었다. 그저 곁에 있는 것만으로.",
    "effects": [
      { "type": "setFlag", "flag": "empathized_lost" }
    ],
    "choices": [
      {
        "text": "...",
        "nextScene": "crying_04"
      }
    ]
  },
  {
    "id": "crying_skip",
    "type": "dialogue",
    "background": "crying",
    "speaker": null,
    "text": "등 뒤에서 울음소리가 점점 작아진다. 발걸음이 무겁다.",
    "choices": [
      {
        "text": "중앙홀로 돌아간다",
        "nextScene": "b1_hub"
      }
    ]
  },
  {
    "id": "crying_04",
    "type": "dialogue",
    "background": "crying",
    "speaker": "lost_one",
    "text": "\"그래... 우리 비슷하구나.\" 떨리던 몸이 조금 잠잠해진다. \"고마워. 여기서 오래 있었는데, 누가 옆에 있어준 건 처음이야.\"",
    "choices": [
      {
        "text": "같이 나갈래?",
        "nextScene": "crying_05_together"
      },
      {
        "text": "이만 가볼게",
        "nextScene": "crying_05_leave"
      }
    ]
  },
  {
    "id": "crying_04_help",
    "type": "dialogue",
    "background": "crying",
    "speaker": "lost_one",
    "text": "\"도와준다고? 어떻게?\" 잠깐 멈칫한다. \"...진통제가 있으면... 고통을 잠깐만이라도...\"",
    "choices": [
      {
        "text": "진통제를 준다",
        "conditions": [
          { "type": "hasItem", "item": "painkiller" }
        ],
        "effects": [
          { "type": "removeItem", "item": "painkiller" },
          { "type": "setFlag", "flag": "helped_lost_one" },
          { "type": "setFlag", "flag": "empathized_lost" }
        ],
        "nextScene": "crying_05_helped"
      },
      {
        "text": "줄 게 없다... 미안",
        "nextScene": "crying_05_leave"
      }
    ]
  },
  {
    "id": "crying_05_together",
    "type": "dialogue",
    "background": "crying",
    "speaker": "lost_one",
    "text": "\"나갈 수... 있을까?\" 조심스럽게 일어선다. \"오래 일어서지 않아서...\" 비틀거리지만, 당신 옆에서 걸음을 뗀다.",
    "effects": [
      { "type": "setFlag", "flag": "companion_lost_one" },
      { "type": "modifyStat", "stat": "bond", "value": 1 }
    ],
    "choices": [
      {
        "text": "같이 간다",
        "nextScene": "crying_end"
      }
    ]
  },
  {
    "id": "crying_05_helped",
    "type": "dialogue",
    "background": "crying",
    "speaker": "lost_one",
    "text": "진통제를 받아든다. 삼킨 후 — 떨림이 멈춘다. \"...고마워. 정말 고마워.\" 얼굴이 없는데도, 미소 짓는 것 같다. \"너와 함께 갈게.\"",
    "effects": [
      { "type": "setFlag", "flag": "companion_lost_one" },
      { "type": "modifyStat", "stat": "bond", "value": 1 }
    ],
    "choices": [
      {
        "text": "같이 간다",
        "nextScene": "crying_end"
      }
    ]
  },
  {
    "id": "crying_05_leave",
    "type": "dialogue",
    "background": "crying",
    "speaker": null,
    "text": "존재에게 등을 돌린다. 울음소리가 다시 커진다. 하지만 발걸음을 멈추지 않는다.",
    "choices": [
      {
        "text": "중앙홀로 돌아간다",
        "nextScene": "b1_hub"
      }
    ]
  },
  {
    "id": "crying_end",
    "type": "dialogue",
    "background": "crying",
    "speaker": null,
    "text": "둘이서 울음의 방을 빠져나온다. 상실자의 발걸음은 느리지만 확실하다. 뒤를 돌아보지 않는다.",
    "choices": [
      {
        "text": "중앙홀로 돌아간다",
        "nextScene": "b1_hub"
      }
    ]
  },

  {
    "id": "silence_01",
    "type": "dialogue",
    "background": "silence",
    "speaker": null,
    "text": "눈부신 하얀 공간. 소리가 없다. 발소리도, 숨소리도, 심장 박동도 들리지 않는다. 완벽한 적막.",
    "choices": [
      {
        "text": "앞으로 걷는다",
        "nextScene": "silence_02"
      }
    ]
  },
  {
    "id": "silence_02",
    "type": "dialogue",
    "background": "silence",
    "speaker": null,
    "text": "고통이 없다. 아무런 감각도 없다. 처음엔 편안하다. 마치 솜 위에 누운 것 같다. 하지만 걸을수록 불안이 커진다. 뭔가... 빠져 있다.",
    "choices": [
      {
        "text": "...이 길, 전에도 왔었다 (숨겨진 루트)",
        "conditions": [
          { "type": "runGreaterThan", "value": 1 }
        ],
        "nextScene": "silence_hidden"
      },
      {
        "text": "계속 걷는다",
        "nextScene": "silence_03"
      },
      {
        "text": "멈추고 생각한다",
        "nextScene": "silence_03_think"
      }
    ]
  },
  {
    "id": "silence_03",
    "type": "dialogue",
    "background": "silence",
    "speaker": null,
    "text": "풍경이 변하지 않는다. 흰 벽, 흰 바닥, 흰 천장. 시간이 흐르는지도 모르겠다. 이곳에서는 아무 일도 일어나지 않는다. 아무 고통도. 아무 기쁨도. 아무것도.",
    "choices": [
      {
        "text": "이것이 천국인가?",
        "nextScene": "silence_04"
      },
      {
        "text": "이것은 지옥이다",
        "effects": [
          { "type": "setFlag", "flag": "recognized_emptiness" }
        ],
        "nextScene": "silence_04_truth"
      }
    ]
  },
  {
    "id": "silence_03_think",
    "type": "dialogue",
    "background": "silence",
    "speaker": null,
    "text": "멈춘다. 고통이 없는 삶. 그것이 정말 원하던 것인가? 변화 없이, 감정 없이, 의미 없이 존재하는 것?",
    "choices": [
      {
        "text": "고통이 없으면 변화도 없다",
        "effects": [
          { "type": "setFlag", "flag": "recognized_emptiness" }
        ],
        "nextScene": "silence_04_truth"
      },
      {
        "text": "그래도 고통보다는 낫다",
        "nextScene": "silence_04"
      }
    ]
  },
  {
    "id": "silence_04",
    "type": "dialogue",
    "background": "silence",
    "speaker": null,
    "text": "계속 걷는다. 하얀 세계가 서서히 어두워진다. 회색으로, 그리고 검은색으로. 빛이 사라진다. 하지만 고통은 여전히 없다. 그저 — 존재하지 않는 것 같은 느낌.",
    "choices": [
      {
        "text": "빠져나간다",
        "nextScene": "silence_end"
      }
    ]
  },
  {
    "id": "silence_04_truth",
    "type": "dialogue",
    "background": "silence",
    "speaker": "mirror",
    "text": "\"알아차렸구나.\" 어디선가 목소리가 들린다. 벽에서? 바닥에서? 아니면 머릿속에서? \"고통은 변화의 증거야. 고통 없이는 아무것도 바뀌지 않아.\"",
    "effects": [
      { "type": "setFlag", "flag": "heard_mirror" },
      { "type": "addEngrams", "value": 5 }
    ],
    "choices": [
      {
        "text": "당신은 누구?",
        "nextScene": "silence_05_mirror"
      },
      {
        "text": "고통이 필요하다는 건가",
        "nextScene": "silence_05_mirror"
      }
    ]
  },
  {
    "id": "silence_05_mirror",
    "type": "dialogue",
    "background": "silence",
    "speaker": "mirror",
    "text": "\"아직 알 때가 아니야. 더 깊이 내려와. 거기서 다시 만나자.\" 목소리가 희미해진다. 흰 벽에 금이 간다. 출구다.",
    "effects": [
      { "type": "unlock", "unlock": "mirror_contact" }
    ],
    "choices": [
      {
        "text": "빠져나간다",
        "nextScene": "silence_end"
      }
    ]
  },
  {
    "id": "silence_end",
    "type": "dialogue",
    "background": "hall",
    "speaker": null,
    "text": "침묵의 길에서 빠져나왔다. 귀에 다시 소리가 들린다. 자신의 심장 박동이 이렇게 반가운 적은 처음이다.",
    "choices": [
      {
        "text": "중앙홀로 돌아간다",
        "nextScene": "b1_hub"
      }
    ]
  },

  {
    "id": "silence_hidden",
    "type": "dialogue",
    "background": "silence",
    "speaker": "mirror",
    "text": "\"다시 왔군. 기억하고 있어?\" 침묵의 길 한가운데, 이전에는 없던 거울이 서 있다. \"네가 몇 번을 반복해도 결국 여기로 오더라. 이번에는 뭘 바꿀 거지?\"",
    "conditions_note": "이 씬은 2회차+ 전용 숨겨진 분기. silence_02에서 runGreaterThan 조건으로 접근",
    "effects": [
      { "type": "addPermanentBonus", "stat": "reason", "value": 1 },
      { "type": "unlock", "unlock": "silence_secret" }
    ],
    "choices": [
      {
        "text": "이번에는 끝까지 가겠다",
        "nextScene": "silence_04_truth"
      }
    ]
  },

  {
    "id": "b1_hub",
    "type": "dialogue",
    "background": "hall",
    "speaker": null,
    "text": "중앙홀로 돌아왔다. 세 갈래 길 중 하나를 다녀왔다. 아직 가지 않은 길이 남아 있지만 — 홀 중앙에 새로운 길이 열려 있다. 아래로 내려가는 계단. 그리고 그 앞에 누군가 서 있다.",
    "choices": [
      {
        "text": "서 있는 존재에게 다가간다",
        "nextScene": "collector_01"
      },
      {
        "text": "다른 길을 먼저 탐험한다",
        "nextScene": "b1_entrance"
      }
    ]
  },
  {
    "id": "collector_01",
    "type": "dialogue",
    "background": "boss",
    "speaker": "collector",
    "text": "\"어서 와.\" 우아한 목소리. 깔끔한 검은 외투를 입은 존재가 미소 짓는다. 눈이 — 수천 개의 파편으로 이루어져 있다. 각각이 다른 사람의 눈동자처럼 보인다. \"고통의 층을 즐겼나?\"",
    "choices": [
      {
        "text": "당신이 고통의 수집가인가",
        "nextScene": "collector_02"
      },
      {
        "text": "비켜. 아래로 내려가야 한다",
        "nextScene": "collector_02_hostile"
      }
    ]
  },
  {
    "id": "collector_02",
    "type": "dialogue",
    "background": "boss",
    "speaker": "collector",
    "text": "\"수집가라... 맞는 말이야. 나는 고통을 모아. 버려진 고통, 외면받은 고통, 잊힌 고통.\" 그의 손가락이 허공을 어루만진다. \"고통은 아름다워. 사람을 바꾸는 유일한 힘이니까.\"",
    "choices": [
      {
        "text": "고통만이 사람을 바꾸는 건 아니다",
        "conditions": [
          { "type": "hasFlag", "flag": "empathized_lost" }
        ],
        "effects": [
          { "type": "setFlag", "flag": "challenged_collector_philosophy" }
        ],
        "nextScene": "collector_dialogue_route"
      },
      {
        "text": "내 고통은 넘기지 않겠다. 싸운다!",
        "nextScene": "collector_battle"
      },
      {
        "text": "...내 고통을 가져가라. 대신 보내줘",
        "nextScene": "collector_submit"
      }
    ]
  },
  {
    "id": "collector_02_hostile",
    "type": "dialogue",
    "background": "boss",
    "speaker": "collector",
    "text": "\"성급하군.\" 미소가 사라진다. \"여기는 내 영역이야. 통행료가 필요해. 고통 — 네 고통을 내놔.\"",
    "choices": [
      {
        "text": "절대 안 된다. 싸운다!",
        "nextScene": "collector_battle"
      },
      {
        "text": "...어쩔 수 없다. 가져가라",
        "nextScene": "collector_submit"
      }
    ]
  },
  {
    "id": "collector_dialogue_route",
    "type": "dialogue",
    "background": "boss",
    "speaker": "collector",
    "text": "수집가의 눈이 커진다. \"...흥미롭군. 고통 말고 다른 게 있다고? 그 존재에게서 뭘 배웠지?\"",
    "choices": [
      {
        "text": "곁에 있는 것만으로도 사람은 변할 수 있다",
        "conditions": [
          { "type": "hasFlag", "flag": "sat_with_lost" }
        ],
        "nextScene": "collector_dialogue_02"
      },
      {
        "text": "다른 사람의 고통을 이해하는 것. 그것도 변화다",
        "conditions": [
          { "type": "hasFlag", "flag": "empathized_lost" }
        ],
        "nextScene": "collector_dialogue_02"
      },
      {
        "text": "고통을 나누면 줄어든다는 걸",
        "conditions": [
          { "type": "hasFlag", "flag": "helped_lost_one" }
        ],
        "nextScene": "collector_dialogue_02"
      },
      {
        "text": "...잘 모르겠다. 역시 싸우자",
        "nextScene": "collector_battle"
      }
    ]
  },
  {
    "id": "collector_dialogue_02",
    "type": "dialogue",
    "background": "boss",
    "speaker": "collector",
    "text": "긴 침묵. 수집가의 수천 개의 눈이 깜빡인다. 하나씩. \"...오랜만이야. 나에게 그런 말을 한 사람은.\" 그의 외투가 흔들린다. \"좋아. 지나가라. 하지만 기억해 — 아래로 갈수록 질문은 더 어려워진다.\"",
    "effects": [
      { "type": "setFlag", "flag": "collector_passed_dialogue" },
      { "type": "unlock", "unlock": "collector_convinced" },
      { "type": "addPerk", "perk": "empathy", "name": "공감의 힘", "description": "대화로 고통의 수집가를 설득한 경험" },
      { "type": "addPermanentBonus", "stat": "bond", "value": 1 },
      { "type": "addEngrams", "value": 15 }
    ],
    "choices": [
      {
        "text": "감사합니다",
        "nextScene": "b1_clear"
      }
    ]
  },
  {
    "id": "collector_battle",
    "type": "combat",
    "background": "boss",
    "enemy": "pain_collector",
    "introText": "수집가가 외투를 벗는다. 그 안에는 — 수천 개의 고통의 파편이 소용돌이치고 있다. \"네 고통도 내 컬렉션에 추가해주마.\"",
    "victoryScene": "collector_battle_victory",
    "rewards": { "engrams": 20 },
    "rounds": [
      {
        "text": "고통의 파편들이 날카롭게 회전하며 당신을 향해 쏟아진다!",
        "choices": [
          {
            "text": "몸을 낮추고 돌진한다",
            "check": { "stat": "body", "dc": 6 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": {
              "text": "파편 사이를 뚫고 수집가에게 다가간다. 그의 표정에 놀라움이 스친다.",
              "effects": []
            },
            "failure": {
              "text": "파편이 몸을 스친다. 각각의 파편에서 누군가의 고통이 느껴진다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }]
            }
          },
          {
            "text": "파편의 궤적을 읽고 피한다",
            "check": { "stat": "sense", "dc": 7 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": {
              "text": "파편의 움직임에 패턴이 있다. 마치 슬픔의 파도처럼. 물결 사이를 빠져나간다.",
              "effects": []
            },
            "failure": {
              "text": "너무 많다. 피하려다 더 깊이 베인다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -6 }]
            }
          },
          {
            "text": "\"이 고통들은 네 것이 아니다!\"",
            "check": { "stat": "bond", "dc": 7 },
            "alignment": "light",
            "karmaShift": 5,
            "success": {
              "text": "목소리에 진심이 담긴다. 파편 몇 개가 멈칫하더니 방향을 바꾼다. 수집가의 눈이 흔들린다.",
              "effects": [{ "type": "modifyKarma", "value": 5 }]
            },
            "failure": {
              "text": "수집가가 코웃음 친다. \"감상적이군.\" 파편이 더 거세게 날아온다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -4 }]
            }
          }
        ]
      },
      {
        "text": "수집가가 손을 뻗는다. 당신의 머릿속에서 고통스러운 기억이 강제로 끌려나온다.",
        "choices": [
          {
            "text": "기억에 저항한다",
            "check": { "stat": "reason", "dc": 7 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": {
              "text": "이성으로 기억을 붙잡는다. \"내 기억은 내 것이다.\" 수집가의 힘이 약해진다.",
              "effects": []
            },
            "failure": {
              "text": "기억이 빼앗긴다. 잠깐이지만, 머릿속이 텅 비는 공포를 느낀다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }]
            }
          },
          {
            "text": "고통을 받아들이며 전진한다",
            "check": { "stat": "body", "dc": 7 },
            "alignment": "dark",
            "karmaShift": -5,
            "success": {
              "text": "고통을 연료 삼아 돌진한다. 수집가가 물러선다. \"이 고통으로 더 강해지겠다는 건가?\"",
              "effects": [{ "type": "modifyKarma", "value": -5 }]
            },
            "failure": {
              "text": "고통이 너무 크다. 무릎이 꺾인다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -6 }]
            }
          },
          {
            "text": "수집가에게 공감을 시도한다",
            "check": { "stat": "bond", "dc": 8 },
            "alignment": "light",
            "karmaShift": 8,
            "success": {
              "text": "\"너도... 고통을 느끼고 있지?\" 수집가의 움직임이 멈춘다. 수천 개의 눈에 동요가 일어난다.",
              "effects": [{ "type": "modifyKarma", "value": 8 }]
            },
            "failure": {
              "text": "\"날 동정하지 마!\" 분노한 수집가의 공격이 더 격렬해진다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -7 }]
            }
          }
        ]
      },
      {
        "text": "수집가가 흔들린다. 하지만 아직 끝나지 않았다. \"마지막이다... 네 가장 깊은 고통을 내놔!\"",
        "choices": [
          {
            "text": "전력으로 맞서 싸운다",
            "check": { "stat": "body", "dc": 7 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": {
              "text": "마지막 힘을 쥐어짠다. 수집가를 밀어낸다. 그의 외투가 찢어지고 파편들이 흩어진다.",
              "effects": [],
              "endCombat": true
            },
            "failure": {
              "text": "힘이 부족하다. 수집가의 공격이 관통한다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -6 }]
            }
          },
          {
            "text": "약점을 노린다",
            "check": { "stat": "sense", "dc": 8 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": {
              "text": "수집가의 핵심 — 수천 개의 눈 중 하나가 다르다. 그것을 노려 정확히 타격한다. 수집가가 무너진다.",
              "effects": [],
              "endCombat": true
            },
            "failure": {
              "text": "순간 집중이 흐트러진다. 파편이 날아와 시야를 가린다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }]
            }
          },
          {
            "text": "\"고통은 나누면 줄어든다\"",
            "check": { "stat": "bond", "dc": 8 },
            "alignment": "light",
            "karmaShift": 10,
            "success": {
              "text": "수집가의 수천 개의 눈에서 눈물이 흐른다. 모은 고통이, 혼자 감당하기엔 너무 컸던 거다. 그가 무릎을 꿇는다.",
              "effects": [{ "type": "modifyKarma", "value": 10 }],
              "endCombat": true
            },
            "failure": {
              "text": "수집가가 비웃지만 — 잠깐, 그의 손이 떨린다. 맞는 말이었지만, 이번엔 힘이 모자랐다.",
              "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }]
            }
          }
        ]
      }
    ]
  },
  {
    "id": "collector_battle_victory",
    "type": "dialogue",
    "background": "hall",
    "speaker": null,
    "text": "수집가가 무릎을 꿇는다. 파편들이 흩어진다. \"...강하군. 하지만 힘으로 이긴다고 고통이 사라지는 건 아니야.\" 그가 사라지면서 길이 열린다.",
    "effects": [
      { "type": "setFlag", "flag": "collector_defeated_combat" },
      { "type": "unlock", "unlock": "collector_defeated" },
      { "type": "addPermanentBonus", "stat": "body", "value": 1 },
      { "type": "addEngrams", "value": 20 }
    ],
    "choices": [
      {
        "text": "아래로 내려간다",
        "nextScene": "b1_clear"
      }
    ]
  },
  {
    "id": "collector_submit",
    "type": "dialogue",
    "background": "boss",
    "speaker": "collector",
    "text": "\"현명한 선택이야.\" 수집가가 손을 뻗는다. 가슴에서 뭔가가 빠져나간다. 따뜻했던 것, 아팠던 것, 아련했던 것. 텅 빈 느낌. \"...가라. 길은 열렸다.\"",
    "effects": [
      { "type": "setFlag", "flag": "collector_submitted" },
      { "type": "modifyStat", "stat": "hp", "value": -8 },
      { "type": "setStat", "stat": "maxHp", "value": 15 },
      { "type": "modifyStat", "stat": "body", "value": -1 }
    ],
    "choices": [
      {
        "text": "...아래로 내려간다",
        "nextScene": "b1_clear"
      }
    ]
  },
  {
    "id": "b1_clear",
    "type": "dialogue",
    "background": "void",
    "speaker": null,
    "text": "B1 — 고통의 층을 지났다.\n\n\"인간이 변하려면 무엇이 필요한가?\"\n\n아직 답을 찾지 못했을지도 모른다. 하지만 한 발짝 더 깊이 내려왔다.\n\n심연은 계속된다.",
    "effects": [
      { "type": "setFlag", "flag": "b1_cleared" },
      { "type": "unlock", "unlock": "b1_complete" }
    ],
    "choices": [
      {
        "text": "타이틀로 돌아가기",
        "nextScene": "__title__"
      }
    ]
  }
]
