[
  {
    "id": "intro_01",
    "type": "dialogue",
    "background": "street",
    "speaker": null,
    "text": "í‰ë²”í•œ ì›”ìš”ì¼ ì•„ì¹¨. ì¶œê·¼ê¸¸ ì§€í•˜ì²  ì•ˆì—ì„œ ë©í•˜ë‹ˆ í°ì„ ë³´ê³  ìˆë‹¤.",
    "choices": [
      {
        "text": "ê³„ì†...",
        "nextScene": "intro_02"
      }
    ]
  },
  {
    "id": "intro_02",
    "type": "dialogue",
    "background": "subway",
    "speaker": null,
    "text": "ê°‘ìê¸° í°ì´ ì§„ë™í•œë‹¤. í™”ë©´ì— ë³¸ ì  ì—†ëŠ” ì•±ì´ ë–  ìˆë‹¤. 'ë‹¹ì‹ ì˜ ìš´ëª…ì„ ë°”ê¿€ ê¸°íšŒ â€” íƒ­í•˜ì—¬ ì‹œì‘'",
    "choices": [
      {
        "text": "ì•±ì„ íƒ­í•œë‹¤",
        "effects": [
          { "type": "setFlag", "flag": "opened_app" },
          { "type": "addItem", "item": "mystery_phone" }
        ],
        "nextScene": "app_open"
      },
      {
        "text": "ë¬´ì‹œí•˜ê³  ì¶œê·¼í•œë‹¤",
        "effects": [
          { "type": "setFlag", "flag": "ignored_app" }
        ],
        "nextScene": "ignore_app"
      },
      {
        "text": "...ì´ ì•±, ì „ì—ë„ ë³¸ ì  ìˆë‹¤ (ìˆ¨ê²¨ì§„ ë£¨íŠ¸)",
        "conditions": [
          { "type": "runGreaterThan", "value": 1 }
        ],
        "effects": [
          { "type": "setFlag", "flag": "opened_app" },
          { "type": "setFlag", "flag": "deja_vu" },
          { "type": "addItem", "item": "mystery_phone" },
          { "type": "unlock", "unlock": "secret_path" }
        ],
        "nextScene": "deja_vu_route"
      }
    ]
  },
  {
    "id": "deja_vu_route",
    "type": "dialogue",
    "background": "glitch",
    "speaker": "???",
    "text": "...ë‹¹ì‹ , ê¸°ì–µí•˜ê³  ìˆêµ°ìš”. ì´ì „ì˜ ê¸°ì–µì´... ì´ê±´ ì²˜ìŒì´ì—ìš”. ì¢‹ì•„ìš”, íŠ¹ë³„í•œ ê±¸ ë³´ì—¬ë“œë¦¬ì£ .",
    "effects": [
      { "type": "addPermanentBonus", "stat": "speed", "value": 1 },
      { "type": "addExp", "value": 30 }
    ],
    "choices": [
      {
        "text": "ë­˜ ë³´ì—¬ì¤„ ê±´ë°?",
        "nextScene": "app_open_02"
      }
    ]
  },
  {
    "id": "app_open",
    "type": "dialogue",
    "background": "glitch",
    "speaker": "???",
    "text": "ì¶•í•˜í•©ë‹ˆë‹¤. ë‹¹ì‹ ì€ ì„ íƒë°›ì•˜ìŠµë‹ˆë‹¤. ì´ì œë¶€í„° ë‹¹ì‹ ì˜ í•˜ë£¨ëŠ”... ì¡°ê¸ˆ ë‹¬ë¼ì§ˆ ê²ë‹ˆë‹¤.",
    "choices": [
      {
        "text": "ë­... ë­ì•¼?",
        "nextScene": "app_open_02"
      }
    ]
  },
  {
    "id": "app_open_02",
    "type": "dialogue",
    "background": "office",
    "speaker": null,
    "text": "ì •ì‹ ì„ ì°¨ë ¤ë³´ë‹ˆ ì–´ëŠìƒˆ íšŒì‚¬ì— ë„ì°©í•´ ìˆë‹¤. ë¨¸ë¦¬ê°€ ì•½ê°„ ì–´ì§€ëŸ½ë‹¤. ì±…ìƒ ìœ„ì— ì»¤í”¼ê°€ ë†“ì—¬ ìˆë‹¤.",
    "effects": [
      { "type": "addItem", "item": "coffee" }
    ],
    "choices": [
      {
        "text": "ì»¤í”¼ë¥¼ ë§ˆì‹ ë‹¤",
        "effects": [
          { "type": "modifyStat", "stat": "hp", "value": 10 },
          { "type": "setFlag", "flag": "drank_coffee" }
        ],
        "nextScene": "office_01"
      },
      {
        "text": "ì¼ë¶€í„° ì‹œì‘í•œë‹¤",
        "nextScene": "office_01"
      }
    ]
  },
  {
    "id": "ignore_app",
    "type": "dialogue",
    "background": "office",
    "speaker": null,
    "text": "ë³„ ê±° ì•„ë‹ˆê² ì§€. ë¬´ì‹œí•˜ê³  ì¶œê·¼í–ˆë‹¤. íšŒì‚¬ì— ë„ì°©í•˜ë‹ˆ ì´ëŒ€ë¦¬ê°€ ì†ì„ í”ë“ ë‹¤.",
    "choices": [
      {
        "text": "ì¸ì‚¬í•œë‹¤",
        "nextScene": "colleague_chat"
      }
    ]
  },
  {
    "id": "colleague_chat",
    "type": "dialogue",
    "background": "office",
    "speaker": "ì´ëŒ€ë¦¬",
    "text": "ì•¼, ì˜¤ëŠ˜ ë¶€ì¥ë‹˜ ê¸°ë¶„ì´ ë³„ë¡œì•¼. ì¡°ì‹¬í•´. ì•„, ê·¸ë¦¬ê³  ì´ê±° ë¨¹ì–´.",
    "effects": [
      { "type": "addItem", "item": "lunch_box" },
      { "type": "setFlag", "flag": "talked_to_colleague" }
    ],
    "choices": [
      {
        "text": "ê³ ë§™ë‹¤! (ë„ì‹œë½ íšë“)",
        "nextScene": "office_01"
      }
    ]
  },
  {
    "id": "office_01",
    "type": "dialogue",
    "background": "office",
    "speaker": "ë°•ë¶€ì¥",
    "text": "ê¹€ì§ì¥!! ë³´ê³ ì„œëŠ”?! ì•„ì§ë„ ì•ˆ í–ˆì–´?!",
    "choices": [
      {
        "text": "ì£„ì†¡í•©ë‹ˆë‹¤, ë°”ë¡œ í•˜ê² ìŠµë‹ˆë‹¤ (ìˆœì¢…)",
        "effects": [
          { "type": "modifyStat", "stat": "hp", "value": -5 },
          { "type": "setFlag", "flag": "obeyed_boss" }
        ],
        "nextScene": "obey_ending"
      },
      {
        "text": "...ì˜¤ëŠ˜ì€ ì°¸ì§€ ì•Šê² ë‹¤ (ëŒ€í•­)",
        "conditions": [
          { "type": "hasFlag", "flag": "opened_app", "value": true }
        ],
        "effects": [
          { "type": "setFlag", "flag": "confronted_boss" }
        ],
        "nextScene": "boss_battle"
      },
      {
        "text": "...ì˜¤ëŠ˜ì€ ì°¸ì§€ ì•Šê² ë‹¤ (ëŒ€í•­)",
        "conditions": [
          { "type": "hasFlag", "flag": "ignored_app", "value": true }
        ],
        "nextScene": "boss_battle"
      },
      {
        "text": "ë¶€ì¥ë‹˜, ì‚¬ì‹¤ ë“œë¦´ ë§ì”€ì´... (3íšŒì°¨ ì´ìƒ í•´ê¸ˆ)",
        "conditions": [
          { "type": "runGreaterThan", "value": 2 }
        ],
        "effects": [
          { "type": "setFlag", "flag": "negotiated_boss" }
        ],
        "nextScene": "negotiate_boss"
      },
      {
        "text": "[ì´ë¯¸ 5ë²ˆì´ë‚˜ ì¡Œì–ì•„...] ì´ë²ˆì—” ë‹¤ë¥´ë‹¤!",
        "conditions": [
          { "type": "deathCountGreaterThan", "value": 4 }
        ],
        "effects": [
          { "type": "setFlag", "flag": "confronted_boss" },
          { "type": "modifyStat", "stat": "attack", "value": 5 }
        ],
        "nextScene": "boss_battle"
      }
    ]
  },
  {
    "id": "negotiate_boss",
    "type": "dialogue",
    "background": "office",
    "speaker": "ë°•ë¶€ì¥",
    "text": "...ë­? í˜‘ìƒì´ë¼ê³ ? í¥, ë„¤ê°€ ë¬´ìŠ¨ í˜‘ìƒì„...",
    "choices": [
      {
        "text": "ë³´ê³ ì„œ ëŒ€ì‹  í”„ë ˆì  í…Œì´ì…˜ì„ í•˜ê² ìŠµë‹ˆë‹¤",
        "effects": [
          { "type": "addExp", "value": 50 },
          { "type": "unlock", "unlock": "negotiator" },
          { "type": "addPerk", "perk": "silver_tongue", "name": "ì€ë¹› í˜€", "description": "í˜‘ìƒìœ¼ë¡œ ìœ„ê¸°ë¥¼ ë„˜ê¸´ ê²½í—˜" }
        ],
        "nextScene": "negotiate_ending"
      },
      {
        "text": "ì—­ì‹œ ì•ˆ ë˜ê² êµ°... ì‹¸ìš°ì!",
        "nextScene": "boss_battle"
      }
    ]
  },
  {
    "id": "negotiate_ending",
    "type": "ending",
    "background": "office_sunset",
    "speaker": null,
    "text": "ë†€ëê²Œë„, ë°•ë¶€ì¥ì´ ê³ ê°œë¥¼ ë„ë•ì˜€ë‹¤. í”„ë ˆì  í…Œì´ì…˜ìœ¼ë¡œ ë³´ê³ ì„œë¥¼ ëŒ€ì²´í•˜ê¸°ë¡œ í–ˆë‹¤. íšŒì‚¬ ìƒí™œì—ë„ ë‹¤ì–‘í•œ ê¸¸ì´ ìˆë‹¤ëŠ” ê±¸ ê¹¨ë‹¬ì•˜ë‹¤.",
    "endingType": "victory",
    "effects": [
      { "type": "addPermanentBonus", "stat": "defense", "value": 1 }
    ],
    "choices": [
      {
        "text": "ğŸ® íƒ€ì´í‹€ë¡œ ëŒì•„ê°€ê¸°",
        "nextScene": "__title__"
      }
    ]
  },
  {
    "id": "boss_battle",
    "type": "combat",
    "background": "office_battle",
    "enemy": "angry_boss",
    "introText": "ë°•ë¶€ì¥ì´ ë¶„ë…¸ë¡œ ì´ê¸€ì´ê¸€ íƒ€ì˜¤ë¥´ê³  ìˆë‹¤! ì„¤ì „ì´ ì‹œì‘ëœë‹¤!",
    "victoryScene": "victory_ending",
    "defeatScene": "defeat_ending",
    "fleeScene": "obey_ending"
  },
  {
    "id": "victory_ending",
    "type": "ending",
    "background": "office_sunset",
    "speaker": null,
    "text": "ë°•ë¶€ì¥ì„ ì„¤ì „ìœ¼ë¡œ ì´ê²¼ë‹¤! ì‚¬ë¬´ì‹¤ì´ ì¡°ìš©í•´ì¡Œë‹¤. ì´ëŒ€ë¦¬ê°€ ì—„ì§€ë¥¼ ì¹˜ì¼œì„¸ìš´ë‹¤. ì˜¤ëŠ˜ í•˜ë£¨ê°€ ë­”ê°€ ë‹¬ë¼ì§„ ê¸°ë¶„ì´ë‹¤.",
    "endingType": "victory",
    "choices": [
      {
        "text": "ğŸ® íƒ€ì´í‹€ë¡œ ëŒì•„ê°€ê¸°",
        "nextScene": "__title__"
      }
    ]
  },
  {
    "id": "defeat_ending",
    "type": "ending",
    "background": "office_dark",
    "speaker": null,
    "text": "ë°•ë¶€ì¥ì˜ ì”ì†Œë¦¬ì— ê²°êµ­ ë¬´ë¦ì„ ê¿‡ì—ˆë‹¤... ì˜¤ëŠ˜ë„ ì•¼ê·¼ì´ë‹¤.",
    "endingType": "defeat",
    "choices": [
      {
        "text": "...ë‹¤ì‹œ í•œë²ˆ (ì‚¬ë§ ì²˜ë¦¬)",
        "nextScene": "__death__"
      },
      {
        "text": "ğŸ® íƒ€ì´í‹€ë¡œ ëŒì•„ê°€ê¸°",
        "nextScene": "__title__"
      }
    ]
  },
  {
    "id": "obey_ending",
    "type": "ending",
    "background": "office_night",
    "speaker": null,
    "text": "ìˆœìˆœíˆ ë³´ê³ ì„œë¥¼ ì‘ì„±í–ˆë‹¤. í‰ë²”í•œ í•˜ë£¨ê°€ ëë‚¬ë‹¤. í•˜ì§€ë§Œ í° ì† ì•±ì€ ì—¬ì „íˆ ê¹œë¹¡ì´ê³  ìˆë‹¤...",
    "endingType": "normal",
    "choices": [
      {
        "text": "ğŸ® íƒ€ì´í‹€ë¡œ ëŒì•„ê°€ê¸°",
        "nextScene": "__title__"
      }
    ]
  }
]
