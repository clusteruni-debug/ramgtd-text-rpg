[
  {
    "id": "district_b_entrance",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "지하철이 멈추고, 문이 열린다.\n\n끝없이 솟은 마천루들. 빌딩 전체가 피스톤처럼 위아래로 움직이며 '쿵, 쿵, 쿵' 소리를 낸다. 공기는 기름 냄새와 땀 냄새가 섞여있다.\n\n넥타이를 맨 좀비 같은 영혼들이 서류 가방을 들고 일렬로 걸어간다. 아무도 말을 하지 않는다. 역 안내판에는 이렇게 적혀있다:\n\n『B지구: 철의 오피스 — 무한 압착 프레스』\n『직원 여러분, 오늘도 생산성을 높여주세요.』",
    "effects": [
      { "type": "setFlag", "flag": "district_b_visited" }
    ],
    "choices": [
      {
        "text": "넥타이 좀비들을 따라간다",
        "nextScene": "district_b_street"
      },
      {
        "text": "역 주변을 먼저 살핀다",
        "nextScene": "district_b_station"
      },
      {
        "text": "지하철로 돌아간다",
        "nextScene": "hub_platform0"
      }
    ]
  },
  {
    "id": "district_b_station",
    "type": "dialogue",
    "background": "station",
    "speaker": null,
    "text": "역 대합실. 벽에 포스터가 빼곡하다.\n\n'이번 달 최우수 사원: 해당 없음'\n'퇴근은 약자의 변명입니다'\n'과로? 그것은 열정의 다른 이름입니다'\n\n구석에 자판기가 있다. '망자의 커피 — 무료(단, 영혼 일부 공제)'라고 적혀있다.\n\n...가져가도 될 것 같다.",
    "choices": [
      {
        "text": "커피를 가져간다",
        "effects": [
          { "type": "addItem", "item": "coffee_of_the_dead" }
        ],
        "nextScene": "district_b_street"
      },
      {
        "text": "무시하고 거리로 나간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_street",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "오피스 거리. 하늘이 안 보인다. 빌딩들이 너무 높아서 꼭대기가 안개에 가려져 있다.\n\n좌측: 수천 명이 줄 서 있는 건물 — '야근의 탑'. 불이 한 번도 꺼진 적 없다고 한다.\n우측: 작은 골목. 무언가 깨지는 소리가 들린다.\n정면: 넥타이 좀비들이 걸어가는 길. 끝에 거대한 프레스 기계가 보인다.\n\n다른 곳도 눈에 띈다. '직원 전용' 표시가 된 문, 깜빡이는 서버실 불빛, 안개 속 꼭대기 층, 지하의 웅성거림.",
    "choices": [
      {
        "text": "야근의 탑으로 간다",
        "nextScene": "district_b_tower"
      },
      {
        "text": "골목에서 나는 소리를 확인한다",
        "nextScene": "district_b_alley"
      },
      {
        "text": "직원 전용 휴게실에 들어간다",
        "conditions": [{ "type": "hasFlag", "flag": "explored_b_breakroom", "value": false }],
        "nextScene": "district_b_breakroom"
      },
      {
        "text": "서버실 불빛을 확인한다",
        "conditions": [{ "type": "hasFlag", "flag": "explored_b_server", "value": false }],
        "nextScene": "district_b_server_room"
      },
      {
        "text": "안개 속 꼭대기를 올려다본다",
        "conditions": [{ "type": "hasFlag", "flag": "explored_b_floor99", "value": false }],
        "nextScene": "district_b_floor99"
      },
      {
        "text": "지하의 웅성거림을 따라간다",
        "conditions": [{ "type": "hasFlag", "flag": "explored_b_resistance", "value": false }],
        "nextScene": "district_b_resistance"
      },
      {
        "text": "프레스 기계 쪽으로 간다 (보스 방향)",
        "nextScene": "district_b_press_gate"
      },
      {
        "text": "지하철역으로 돌아간다",
        "nextScene": "district_b_entrance"
      }
    ]
  },
  {
    "id": "district_b_tower",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "야근의 탑. 엘리베이터 앞에 줄이 끝도 없이 이어져 있다. 영혼들은 모두 같은 표정 — 체념.\n\n20층쯤 올라가면 '인사과'가 있다고 한다. 거기에 사원증이 있으면 프레스 구역에 출입할 수 있다.\n\n엘리베이터 옆에 계단이 있지만, 검표원이 지키고 있다.",
    "choices": [
      {
        "text": "[감각 5] 검표원 몰래 계단으로 올라간다",
        "conditions": [{ "type": "statGreaterThan", "stat": "sense", "value": 4 }],
        "effects": [
          { "type": "setFlag", "flag": "snuck_past_inspector" }
        ],
        "nextScene": "district_b_floor20"
      },
      {
        "text": "줄을 서서 엘리베이터를 기다린다",
        "nextScene": "district_b_elevator_wait"
      },
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_elevator_wait",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "줄을 서서 기다린다. 한 시간이 지났다. 두 시간이 지났다.\n\n앞에 서 있던 영혼이 고개를 돌린다.\n\n\"...기다려도 안 와요. 이 엘리베이터, 내려오는 사람이 없으면 올라가지도 않아요.\"\n\n\"20층 인사과에서 퇴근하는 사람이 없으니까... 영원히 안 오죠.\"\n\n그가 다시 앞을 본다. 기다림을 멈추지 않으면서.",
    "choices": [
      {
        "text": "계단을 찾아본다 (검표원 직면)",
        "nextScene": "district_b_inspector_encounter"
      },
      {
        "text": "다른 곳을 살핀다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_inspector_encounter",
    "type": "combat",
    "background": "boss",
    "enemy": "ticket_inspector_enemy",
    "introText": "계단을 오르려는 순간, 검표원이 태블릿을 들이민다.\n\n\"무단 이동 감지. 해당 구역은 사원증 소지자만 출입 가능합니다. 위반 시 처리 대상.\"",
    "victoryScene": "district_b_floor20",
    "rewards": { "engrams": 10 },
    "rounds": [
      {
        "text": "검표원이 태블릿에서 빨간 빔을 발사한다. '처리 절차를 개시합니다.'",
        "choices": [
          {
            "text": "몸을 낮춰 빔을 피한다",
            "check": { "stat": "sense", "dc": 5 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": { "text": "민첩하게 빔을 피했다! 검표원이 당황한다.", "effects": [] },
            "failure": { "text": "빔에 스친다. 전기가 온몸을 관통한다.", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }] }
          },
          {
            "text": "태블릿을 분석해 약점을 찾는다",
            "check": { "stat": "reason", "dc": 6 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": { "text": "태블릿의 리부팅 버튼을 발견했다! 눌러서 시스템을 멈춘다.", "effects": [], "endCombat": true },
            "failure": { "text": "분석이 빗나갔다. 검표원이 가까이 다가온다.", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -3 }] }
          },
          {
            "text": "\"나도 직원이야\" 블러핑한다",
            "check": { "stat": "bond", "dc": 7 },
            "alignment": "light",
            "karmaShift": 3,
            "success": { "text": "검표원이 잠시 멈칫한다. \"...확인 중. 데이터베이스 오류.\" 그 사이에 도망친다!", "effects": [], "endCombat": true },
            "failure": { "text": "\"거짓 진술. 벌점 추가.\" 전기 충격이 온다.", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -7 }] }
          }
        ]
      }
    ]
  },
  {
    "id": "district_b_floor20",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "20층 인사과.\n\n책상 수백 개가 끝없이 이어져 있다. 모든 영혼이 같은 자세로 서류를 쓰고 있다. 누구도 고개를 들지 않는다.\n\n한쪽 벽에 '이달의 우수 사원 보드'가 있다. 사진 자리에 사원증이 하나 끼워져 있다.",
    "choices": [
      {
        "text": "사원증을 가져간다",
        "effects": [
          { "type": "addItem", "item": "employee_badge" },
          { "type": "setFlag", "flag": "has_employee_badge" }
        ],
        "nextScene": "district_b_floor20_taken"
      },
      {
        "text": "서류를 쓰고 있는 영혼에게 말을 건다",
        "nextScene": "district_b_worker_npc"
      }
    ]
  },
  {
    "id": "district_b_floor20_taken",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "사원증을 뽑아드는 순간, 형광등이 한 번 깜빡인다.\n\n서류를 쓰던 영혼들이 일제히 고개를 든다. 눈이 없다. 대신 그 자리에 바코드가 찍혀 있다.\n\n\"...퇴...근...\"\n\n누군가 중얼거린다. 하지만 곧 다시 고개를 숙이고 서류를 쓰기 시작한다.\n\n사원증을 손에 넣었다. 이제 프레스 구역에 들어갈 수 있다.",
    "choices": [
      {
        "text": "프레스 구역으로 향한다",
        "nextScene": "district_b_press_gate"
      },
      {
        "text": "거리로 돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_worker_npc",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "영혼이 고개를 들지 않고 말한다.\n\n\"...야근 수당은 사후 정산입니다. 사후가 언제냐고요? 그건 인사과 소관이 아닙니다.\"\n\n서류에는 아무것도 쓰여있지 않다. 빈 종이에 빈 펜으로 빈 글씨를 쓰고 있다.\n\n\"...소장님이 '생산성'을 요구하시면, 우리는 '생산성'을 제출합니다. 내용은 상관없어요.\"",
    "choices": [
      {
        "text": "사원증을 가져간다",
        "effects": [
          { "type": "addItem", "item": "employee_badge" },
          { "type": "setFlag", "flag": "has_employee_badge" }
        ],
        "nextScene": "district_b_floor20_taken"
      },
      {
        "text": "떠난다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_alley",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "좁은 골목. 누군가 노트북을 바닥에 내려치고 있다.\n\n\"...안 꺼져. 왜 안 꺼지는 거야.\"\n\n검은 양복에 어지러운 머리카락. 30대 남자다. 노트북 화면에 '야근 시간: ∞'이 떠 있다.\n\n\"...아. 사람? 진짜 사람이야?\"",
    "choices": [
      {
        "text": "\"괜찮아?\"",
        "nextScene": "district_b_minjun_01"
      },
      {
        "text": "조용히 관찰한다",
        "nextScene": "district_b_minjun_01b"
      },
      {
        "text": "지나친다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_minjun_01",
    "type": "dialogue",
    "background": "corridor",
    "speaker": "minjun",
    "text": "\"괜찮냐고? 하하.\"\n\n그가 노트북을 보여준다. 화면에 코드가 끝없이 스크롤되고 있다.\n\n\"나 민준이야. 생전에 개발자였어. 2년차에 번아웃 와서... 여기까지 왔지.\"\n\n그가 노트북을 닫는다. 닫히지 않는다.\n\n\"이거 알아? 여기선 퇴근이 없어. 글자 그대로. 노트북이 안 꺼져. 소장이 '프로세스 종료 권한'을 가지고 있거든.\n\n...혹시 넌 소장한테 갈 거야?\"",
    "choices": [
      {
        "text": "\"소장을 쓰러뜨리러 간다\"",
        "effects": [
          { "type": "setFlag", "flag": "told_minjun_plan" }
        ],
        "nextScene": "district_b_minjun_02"
      },
      {
        "text": "\"여기서 뭘 할 수 있는지 알고 싶어\"",
        "nextScene": "district_b_minjun_info"
      }
    ]
  },
  {
    "id": "district_b_minjun_01b",
    "type": "dialogue",
    "background": "corridor",
    "speaker": "minjun",
    "text": "남자가 당신의 시선을 느끼고 고개를 든다.\n\n\"...뭐 봐. 구경 왔어?\"\n\n잠시 침묵. 그가 한숨을 쉰다.\n\n\"미안. 예민해져서. 나 민준이야. 여기서... 오래됐어.\"\n\n\"넌? 산 사람 맞지? 눈빛이 다르니까.\"",
    "choices": [
      {
        "text": "\"소장을 쓰러뜨리러 간다\"",
        "effects": [
          { "type": "setFlag", "flag": "told_minjun_plan" }
        ],
        "nextScene": "district_b_minjun_02"
      },
      {
        "text": "\"여기서 뭘 할 수 있는지 알고 싶어\"",
        "nextScene": "district_b_minjun_info"
      }
    ]
  },
  {
    "id": "district_b_minjun_info",
    "type": "dialogue",
    "background": "corridor",
    "speaker": "minjun",
    "text": "\"여기? 일하는 거지. 그게 전부야.\"\n\n그가 골목 끝을 가리킨다.\n\n\"야근의 탑 — 인사과에 가면 사원증을 얻을 수 있어. 사원증이 있으면 프레스 구역에 들어갈 수 있고. 프레스 구역 끝에 소장이 있어.\"\n\n\"소장은... 강해. 혼자는 힘들 거야.\"\n\n그가 노트북을 두드린다.\n\n\"...나 같이 갈까? ESC 키가 아직 살아있거든. 한 번쯤은 쓸모가 있을 거야.\"",
    "choices": [
      {
        "text": "\"같이 가자\"",
        "effects": [
          { "type": "addCompanion", "companion": "minjun", "name": "민준", "trustLevel": 20, "skills": [{ "id": "debug_scan", "name": "디버그 스캔", "description": "적의 약점을 분석한다 (이성 체크 DC-1)" }] },
          { "type": "setFlag", "flag": "minjun_recruited" },
          { "type": "addAbyssMemory", "id": "mem_minjun_recruit", "label": "민준과의 첫 만남", "weight": 2, "source": "district_b" }
        ],
        "nextScene": "district_b_minjun_joined"
      },
      {
        "text": "\"혼자 할 수 있어\"",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_minjun_02",
    "type": "dialogue",
    "background": "corridor",
    "speaker": "minjun",
    "text": "\"소장을?\"\n\n민준의 눈에 처음으로 빛이 돌아온다.\n\n\"미쳤어? ...아니, 미친 건 좋은 뜻이야. 여기선.\"\n\n그가 노트북의 ESC 키를 두드린다.\n\n\"나도 같이 갈게. ESC 키 하나가 아직 살아있어. 이걸로 소장의 프로세스를 잠깐 멈출 수 있을지도 몰라.\n\n...오래 참았어. 2년? 200년? 모르겠지만.\"",
    "choices": [
      {
        "text": "\"같이 가자, 민준\"",
        "effects": [
          { "type": "addCompanion", "companion": "minjun", "name": "민준", "trustLevel": 30, "skills": [{ "id": "debug_scan", "name": "디버그 스캔", "description": "적의 약점을 분석한다 (이성 체크 DC-1)" }] },
          { "type": "setFlag", "flag": "minjun_recruited" },
          { "type": "addAbyssMemory", "id": "mem_minjun_recruit", "label": "민준과의 첫 만남", "weight": 2, "source": "district_b" }
        ],
        "nextScene": "district_b_minjun_joined"
      }
    ]
  },
  {
    "id": "district_b_minjun_joined",
    "type": "dialogue",
    "background": "corridor",
    "speaker": "minjun",
    "text": "민준이 노트북을 등에 메고 일어선다.\n\n\"오키. 팀 빌딩 완료. 스크럼은 안 해도 되지?\"\n\n그가 웃는다. 이 도시에서 처음으로 본 진짜 웃음이다.\n\n\"프레스 구역으로 가자. 사원증은 있어?\"\n\n[민준이 동료로 합류했습니다]",
    "choices": [
      {
        "text": "프레스 구역으로 간다",
        "conditions": [{ "type": "hasFlag", "flag": "has_employee_badge" }],
        "nextScene": "district_b_press_gate"
      },
      {
        "text": "먼저 사원증을 구하러 간다",
        "nextScene": "district_b_tower"
      }
    ]
  },
  {
    "id": "district_b_breakroom",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "직원 전용 휴게실. '30분 이내 이용' 표지가 붙어있다.\n\n안에 자판기가 하나 있고, 접이식 의자 세 개. 벽에 시계가 있지만 분침이 30분 지점에 고정되어 있다.\n\n한 영혼이 의자에 앉아 멍하니 천장을 보고 있다.\n\n\"...쉬는 거야. 30분 동안. 매일. 이게 내 전부야.\"\n\n테이블에 누군가 볼펜으로 적었다:\n'퇴근시간: 미정\n점심시간: 취소\n휴게시간: 30분 (이동 포함)'",
    "effects": [
      { "type": "setFlag", "flag": "explored_b_breakroom" },
      { "type": "modifyStat", "stat": "hp", "value": 3 }
    ],
    "choices": [
      {
        "text": "\"여기서 반항하는 사람은 없어?\"",
        "nextScene": "district_b_breakroom_talk"
      },
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_breakroom_talk",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "영혼이 고개를 숙이며 속삭인다.\n\n\"쉿. 카메라 있어.\"\n\n\"지하에... 모이는 사람들이 있긴 해. '로그아웃 클럽'이라고. 소장 몰래.\"\n\n\"거기서 뭘 하냐고? 아무것도 안 해. 진짜로. 아무것도 안 하는 연습을 해.\"\n\n\"여기선 '아무것도 안 하기'가 가장 큰 반항이거든.\"",
    "effects": [
      { "type": "addAbyssMemory", "id": "mem_breakroom_whisper", "label": "휴게실의 속삭임", "weight": 1, "source": "district_b" }
    ],
    "choices": [
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },

  {
    "id": "district_b_server_room",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "빌딩 지하 1층. 서버실.\n\n서버 랙이 끝없이 늘어서 있다. 초록색 불빛이 깜빡인다. 열기가 대단하다.\n\n각 서버에 라벨이 붙어있다:\n'야근 관리 시스템'\n'생산성 지수 모니터링'\n'퇴근 요청 처리 (비활성)'\n'사직서 파쇄기 (자동)'\n\n마지막 서버의 라벨:\n'소장 감정 백업 — 접근 금지'",
    "effects": [
      { "type": "setFlag", "flag": "explored_b_server" }
    ],
    "choices": [
      {
        "text": "[이성 5] 소장 감정 백업 서버에 접근한다",
        "conditions": [{ "type": "statGreaterThan", "stat": "reason", "value": 4 }],
        "nextScene": "district_b_server_hack"
      },
      {
        "text": "퇴근 요청 처리 시스템을 살펴본다",
        "nextScene": "district_b_server_logout"
      },
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_server_hack",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "소장 감정 백업 서버. 잠금을 해제한다.\n\n화면에 데이터가 뜬다:\n\n'원본 감정 프로필: 현장 소장 (이름: 삭제됨)'\n'- 직업 만족도: 92% → 3%'\n'- 퇴근 욕구: 99% (억제됨)'\n'- 자아 인식: \"나는 기계가 아니다\" → \"나는 프레스다\"'\n'- 마지막 인간적 감정: \"집에 가고 싶다\" (872일 전)'\n\n...소장도 원래는 퇴근하고 싶은 보통 사람이었다.",
    "effects": [
      { "type": "addAbyssMemory", "id": "mem_foreman_backup", "label": "소장의 감정 백업 데이터", "weight": 3, "source": "district_b" },
      { "type": "setFlag", "flag": "read_foreman_data" }
    ],
    "choices": [
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_server_logout",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "퇴근 요청 처리 시스템.\n\n화면에 목록이 있다. 수만 개의 퇴근 요청.\n\n'요청 #00001: 퇴근합니다 — 거부됨 (사유: 업무 미완료)'\n'요청 #00002: 제발요 — 거부됨 (사유: 업무 미완료)'\n'요청 #12847: ... — 거부됨 (사유: 업무 미완료)'\n\n모든 요청의 거부 사유가 같다. 업무 미완료.\n\n하지만 '업무 완료' 기준을 찾아보면 — 정의되어 있지 않다.\n\n완료할 수 없는 업무. 영원한 야근. 시스템 자체가 감옥이다.",
    "effects": [
      { "type": "modifyStat", "stat": "reason", "value": 1 }
    ],
    "choices": [
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },

  {
    "id": "district_b_floor99",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "야근의 탑 비상 계단. 숨을 헐떡이며 올라간다.\n\n99층. 안개 위. 하늘이 보인다 — 이 도시에서 처음으로.\n\n임원실이라고 적힌 문. 안에는 아무도 없다.\n\n하지만 책상 위에 서류가 정리되어 있다. '경영 보고서'.",
    "effects": [
      { "type": "setFlag", "flag": "explored_b_floor99" }
    ],
    "choices": [
      {
        "text": "경영 보고서를 읽는다",
        "nextScene": "district_b_floor99_report"
      },
      {
        "text": "창밖을 내다본다",
        "nextScene": "district_b_floor99_window"
      },
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_floor99_report",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "경영 보고서:\n\n'B지구 분기 실적'\n'- 감정 압착량: 전기 대비 300% 증가'\n'- 직원 이직률: 0% (이직 시스템 미구현)'\n'- 직원 만족도: 측정 불가 (측정 시스템 삭제됨)'\n'- 생산성: 무한대 (기준: 미정)'\n\n'권고사항: 현장 소장의 자아가 불안정합니다. 인간적 감정 잔여분이 0.3% 남아있습니다. 완전 기계화를 권고합니다.'\n\n보고서 마지막:\n'결재: (서명 없음) — 임원이 존재하지 않습니다. 이 시스템은 자동 운영됩니다.'",
    "effects": [
      { "type": "addAbyssMemory", "id": "mem_executive_report", "label": "임원 없는 회사의 경영 보고서", "weight": 3, "source": "district_b" }
    ],
    "choices": [
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_floor99_window",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "99층 창밖.\n\n안개 위로 — 이 도시의 전체 모습이 보인다. 4개 지구가 지하철 선로로 연결되어 있고, 중앙에 터미널이 있다.\n\n아름답지 않다. 하지만 거대하다.\n\n아래를 내려다보면 넥타이 좀비들이 개미처럼 움직이고 있다.\n\n...여기서 뛰어내린 흔적이 창틀에 있다. 하지만 이 도시에서는 추락해도 죽지 않는다. 다시 1층에서 일어나 출근할 뿐이다.",
    "effects": [
      { "type": "addAbyssMemory", "id": "mem_99th_view", "label": "99층에서 본 도시", "weight": 2, "source": "district_b" }
    ],
    "choices": [
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },

  {
    "id": "district_b_resistance",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "빌딩 지하 2층. 배관 사이의 좁은 공간.\n\n영혼 열 명이 원형으로 앉아있다. 넥타이를 풀고 양복 상의를 벗고 있다.\n\n벽에 적혀있다: '로그아웃 클럽 — 규칙: 아무것도 하지 않기'\n\n한 영혼이 눈을 감고 있다. 다른 영혼은 천장을 보고 있다. 또 다른 영혼은 웃고 있다.\n\n...아무것도 안 하고 있다. 정말로.",
    "effects": [
      { "type": "setFlag", "flag": "explored_b_resistance" }
    ],
    "choices": [
      {
        "text": "합류한다",
        "nextScene": "district_b_resistance_join"
      },
      {
        "text": "\"이게 뭐 하는 거야?\"",
        "nextScene": "district_b_resistance_ask"
      },
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_resistance_join",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "자리에 앉는다. 넥타이를 풀 것도 없지만 — 어깨의 힘을 뺀다.\n\n5분이 지난다. 10분.\n\n...아무 일도 일어나지 않는다. 그리고 그것이 평화롭다.\n\n옆의 영혼이 속삭인다.\n\n\"여기서 이러면 소장이 감지 못해. 생산성이 0이면 시스템이 인식 자체를 못 하거든.\"\n\n\"가끔 여기서 꿈을 꿔. 퇴근하는 꿈. 현관문 열고 '다녀왔어' 하는 꿈.\"\n\n\"...깨면 울지만.\"",
    "effects": [
      { "type": "modifyStat", "stat": "hp", "value": 5 },
      { "type": "modifyStat", "stat": "bond", "value": 1 },
      { "type": "addAbyssMemory", "id": "mem_logout_club", "label": "로그아웃 클럽의 평화", "weight": 2, "source": "district_b" }
    ],
    "choices": [
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_resistance_ask",
    "type": "dialogue",
    "background": "corridor",
    "speaker": null,
    "text": "\"아무것도 안 하는 거야.\"\n\n영혼이 웃는다.\n\n\"이 도시에서 '아무것도 안 하기'가 얼마나 어려운지 알아? 시스템이 계속 무언가를 시켜. 서류 쓰고, 보고하고, 야근하고.\"\n\n\"우리는 그냥... 멈추는 연습을 해. 멈추면 시스템이 에러를 내. 에러가 쌓이면 소장도 대응해야 하고.\"\n\n\"작은 저항이야. 파업까지는 못 하지만.\"",
    "effects": [
      { "type": "addAbyssMemory", "id": "mem_doing_nothing", "label": "아무것도 안 하기라는 저항", "weight": 2, "source": "district_b" }
    ],
    "choices": [
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },

  {
    "id": "district_b_press_gate",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "프레스 구역 입구. 거대한 철문 앞에 카드 리더기가 있다.\n\n문 너머에서 '쿵... 쿵... 쿵...' 소리가 규칙적으로 울린다. 프레스 기계가 영혼을 찍어누르는 소리다.",
    "choices": [
      {
        "text": "사원증을 대고 들어간다",
        "conditions": [{ "type": "hasItem", "item": "employee_badge" }],
        "nextScene": "district_b_press_inside"
      },
      {
        "text": "사원증이 없다... (야근의 탑으로)",
        "nextScene": "district_b_tower"
      },
      {
        "text": "돌아간다",
        "nextScene": "district_b_street"
      }
    ]
  },
  {
    "id": "district_b_press_inside",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "프레스 구역.\n\n수십 미터 높이의 강철 프레스들이 위아래로 찍어누르고 있다. 그 아래에 영혼들이 납작하게 되었다가 다시 부풀어오르기를 반복한다. 끝없이.\n\n맨 안쪽에 거대한 그림자가 보인다. 프레스 기계와 합체한 존재.\n\n— 현장 소장.",
    "choices": [
      {
        "text": "소장에게 다가간다",
        "nextScene": "district_b_boss_intro"
      }
    ]
  },
  {
    "id": "district_b_boss_intro",
    "type": "dialogue",
    "background": "boss",
    "speaker": "foreman",
    "text": "\"측정 완료. 생산성: 0.\"\n\n현장 소장이 돌아본다. 상체는 사람이지만 하체가 프레스 기계다. 넥타이가 목에 파고들어 피가 묻어있다.\n\n\"무단 출입. 무단 이동. 무단 존재.\"\n\n\"여기는 생산 시설이다. 비생산적 존재는 — 압착 대상이다.\"",
    "choices": [
      {
        "text": "\"이 사람들을 왜 이렇게 해?\"",
        "nextScene": "district_b_boss_talk"
      },
      {
        "text": "싸운다",
        "nextScene": "district_b_boss_battle"
      }
    ]
  },
  {
    "id": "district_b_boss_talk",
    "type": "dialogue",
    "background": "boss",
    "speaker": "foreman",
    "text": "\"왜?\"\n\n소장이 고개를 갸웃한다. 진심으로 모르겠다는 표정이다.\n\n\"이것이 '업무'이기 때문이다. 나태, 무기력, 게으름. 이것들을 압착하여 에너지로 변환한다. 도시의 동력이 된다.\"\n\n\"나도 이 일을 좋아하지 않는다. 하지만 누군가는 해야 한다.\"\n\n프레스가 한 번 찍힌다. 비명.\n\n\"...그것이 생산성이다.\"",
    "choices": [
      {
        "text": "더 이상 말은 필요 없다. 싸운다.",
        "nextScene": "district_b_boss_battle"
      }
    ]
  },
  {
    "id": "district_b_boss_battle",
    "type": "combat",
    "background": "boss",
    "enemy": "foreman",
    "introText": "현장 소장이 프레스 팔을 치켜든다.\n\n\"비생산적 존재 처리를 개시한다. 목표: 압착.\"",
    "victoryScene": "district_b_boss_victory",
    "rewards": { "engrams": 25 },
    "rounds": [
      {
        "text": "소장이 거대한 프레스 팔을 내리친다. 바닥이 갈라진다!",
        "choices": [
          {
            "text": "옆으로 구른다",
            "check": { "stat": "sense", "dc": 5 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": { "text": "프레스가 빈 바닥을 찍었다. 간발의 차이!", "effects": [] },
            "failure": { "text": "프레스에 스쳤다. 팔이 찌릿하다.", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }] }
          },
          {
            "text": "프레스 기계의 구조를 분석한다",
            "check": { "stat": "reason", "dc": 6 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": { "text": "유압 관절의 약점을 발견했다! 다음 공격에 집중할 수 있다.", "effects": [{ "type": "setFlag", "flag": "foreman_weakness_found" }] },
            "failure": { "text": "분석이 끝나기 전에 프레스가 내려왔다!", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -7 }] }
          },
          {
            "text": "\"넌 원래 이런 사람이 아니었잖아!\"",
            "check": { "stat": "bond", "dc": 8 },
            "alignment": "light",
            "karmaShift": 5,
            "success": { "text": "소장의 움직임이 멈칫한다. 넥타이 아래에서 무언가가 꿈틀거린다.", "effects": [], "endCombat": false },
            "failure": { "text": "\"생산성에 감정은 불필요하다.\" 프레스가 내려온다.", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }] }
          }
        ]
      },
      {
        "text": "소장이 양팔의 프레스를 동시에 올린다. \"효율 200%.\" 공간이 좁아진다!",
        "choices": [
          {
            "text": "전력 질주로 프레스 사이를 뚫는다",
            "check": { "stat": "body", "dc": 7 },
            "alignment": "dark",
            "karmaShift": -3,
            "success": { "text": "프레스 사이를 뚫고 소장의 본체에 도달했다!", "effects": [] },
            "failure": { "text": "양쪽 프레스에 끼었다. 뼈가 삐걱거린다.", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -8 }] }
          },
          {
            "text": "유압 라인을 끊는다",
            "check": { "stat": "reason", "dc": 6 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": { "text": "유압 라인에서 검은 액체가 뿜어져 나온다! 프레스 속도가 느려진다.", "effects": [] },
            "failure": { "text": "잘못된 라인을 잘랐다. 프레스가 오히려 빨라진다!", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -7 }] }
          },
          {
            "text": "민준의 ESC 키를 사용한다",
            "check": { "stat": "bond", "dc": 5 },
            "alignment": "light",
            "karmaShift": 3,
            "conditions": [{ "type": "hasCompanion", "companion": "minjun" }],
            "success": { "text": "민준이 노트북을 열고 ESC를 누른다! 소장의 시스템이 잠시 정지한다.", "effects": [{ "type": "modifyCompanionTrust", "companion": "minjun", "value": 15 }], "endCombat": false },
            "failure": { "text": "ESC가 반응하지 않는다. \"...한 번 더!\" 민준이 외친다.", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -3 }] }
          }
        ]
      },
      {
        "text": "소장이 비틀거린다. \"...시스템 과부하. 생산성... 하락...\" 최후의 발악으로 전체 프레스를 작동시킨다!",
        "choices": [
          {
            "text": "넥타이를 잡아 뜯는다 — 소장의 핵심부",
            "check": { "stat": "body", "dc": 7 },
            "alignment": "dark",
            "karmaShift": -5,
            "success": { "text": "넥타이가 찢어지면서 소장의 본체가 드러난다. 안에는... 구겨진 사직서 한 장.", "effects": [] },
            "failure": { "text": "넥타이가 당신의 손을 감고 조인다!", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -8 }] }
          },
          {
            "text": "소장의 사직서를 읽어준다",
            "check": { "stat": "bond", "dc": 7 },
            "alignment": "light",
            "karmaShift": 8,
            "success": { "text": "\"...퇴직금 정산을 요청합니다.\"\n\n소장의 눈에서 기름 대신 눈물이 흐른다. 프레스가 멈춘다.", "effects": [] },
            "failure": { "text": "소장이 귀를 막는다. \"거부. 거부. 거부.\" 프레스가 더 세게 내려온다.", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -7 }] }
          },
          {
            "text": "비상 정지 버튼을 찾아 누른다",
            "check": { "stat": "sense", "dc": 6 },
            "alignment": "neutral",
            "karmaShift": 0,
            "success": { "text": "벽에 숨겨진 빨간 버튼! 쾅 — 모든 프레스가 멈춘다. 소장이 무릎을 꿇는다.", "effects": [] },
            "failure": { "text": "버튼이... 페인트로 그려진 거였다. 함정!", "effects": [{ "type": "modifyStat", "stat": "hp", "value": -5 }] }
          }
        ]
      }
    ]
  },
  {
    "id": "district_b_boss_victory",
    "type": "dialogue",
    "background": "station",
    "speaker": null,
    "text": "프레스가 멈췄다.\n\n현장 소장이 바닥에 쓰러져 있다. 프레스 기계가 천천히 분리되면서, 그 안에서... 구겨진 양복을 입은 남자가 나타난다.\n\n\"...퇴근이다.\"\n\n그가 미소짓는다. 기름으로 얼룩진 미소.\n\n프레스 구역의 영혼들이 하나둘 일어선다. 서류 가방을 내려놓는다. 넥타이를 푼다.\n\n바닥에 보안 카드가 떨어져 있다.",
    "effects": [
      { "type": "setFlag", "flag": "boss_foreman_defeated" },
      { "type": "addItem", "item": "key_card_b" },
      { "type": "addEngrams", "value": 25 },
      { "type": "addAbyssMemory", "id": "mem_foreman_freed", "label": "소장의 퇴근", "weight": 3, "source": "district_b" }
    ],
    "choices": [
      {
        "text": "보안 카드를 집어든다",
        "nextScene": "district_b_clear"
      }
    ]
  },
  {
    "id": "district_b_clear",
    "type": "dialogue",
    "background": "station",
    "speaker": null,
    "text": "B지구 — 철의 오피스.\n\n프레스는 멈추고, 야근의 탑에서 처음으로 불이 꺼졌다.\n\n영혼들이 '퇴근'이라는 단어를 되뇌이며 거리를 걸어간다. 어딘지 모를 곳으로. 하지만 발걸음은 가볍다.\n\n주머니에서 B지구 보안 카드의 무게가 느껴진다. 4장 중 1장.\n\n지하철이 도착한다. 플랫폼 0으로 돌아갈 시간이다.",
    "effects": [
      { "type": "setFlag", "flag": "district_b_cleared" },
      { "type": "setFlag", "flag": "district_c_unlocked" }
    ],
    "choices": [
      {
        "text": "플랫폼 0으로 돌아간다",
        "effects": [{ "type": "fullHeal" }],
        "nextScene": "hub_platform0"
      }
    ]
  },

  {
    "id": "district_b_minjun_quest_start",
    "type": "dialogue",
    "background": "corridor",
    "speaker": "minjun",
    "text": "민준이 노트북을 열어 보여준다. 화면에 오래된 코드가 떠 있다.\n\n\"이거... 내가 처음 만든 프로그램이야. 대학교 2학년 때.\"\n\n\"'할 일 목록 앱'. 웃기지? 심연에서 할 일 목록이라니.\"\n\n\"근데 이 코드가 아직 B지구 서버 어딘가에 있어. 내가 회사 다닐 때 서버에 백업해뒀거든.\"\n\n\"...찾아줄 수 있어? 왜 코딩을 시작했는지 기억하고 싶어.\"",
    "conditions": [
      { "type": "hasCompanion", "companion": "minjun" },
      { "type": "hasFlag", "flag": "district_b_cleared" }
    ],
    "choices": [
      {
        "text": "\"찾으러 가자\"",
        "nextScene": "district_b_minjun_quest_server"
      },
      {
        "text": "\"나중에 하자\"",
        "nextScene": "hub_platform0"
      }
    ]
  },
  {
    "id": "district_b_minjun_quest_server",
    "type": "dialogue",
    "background": "boss",
    "speaker": null,
    "text": "해방된 B지구. 프레스는 멈추고, 서버실만 아직 돌아가고 있다.\n\n민준이 서버 앞에 앉아 키보드를 두드린다.\n\n\"...있다. 백업 폴더에. 'first_project_v1.zip'.\"\n\n파일을 연다. 오래된 코드가 화면에 뜬다.\n\n민준의 손이 멈춘다.\n\n\"이거... 주석에 적어놨네. '이 앱이 누군가의 하루를 조금이라도 편하게 해줬으면 좋겠다.' \"",
    "effects": [
      { "type": "modifyCompanionTrust", "companion": "minjun", "value": 10 }
    ],
    "choices": [
      {
        "text": "\"좋은 목표였네\"",
        "nextScene": "district_b_minjun_quest_memory"
      }
    ]
  },
  {
    "id": "district_b_minjun_quest_memory",
    "type": "dialogue",
    "background": "boss",
    "speaker": "minjun",
    "text": "\"좋은 목표... 였지.\"\n\n민준이 노트북을 내려다본다.\n\n\"언제부터 바뀐 걸까. '누군가를 돕겠다'에서 '마감을 맞추겠다'로. '좋은 코드를 쓰겠다'에서 '빨리 끝내겠다'로.\"\n\n\"2년 만에 야근이 일상이 됐고, 커피가 물이 됐고, 집에 가도 노트북을 열었고.\"\n\n\"그리고 어느 날 — 여기 왔지.\"\n\n화면에 커서가 깜빡인다.",
    "choices": [
      {
        "text": "\"이 노트북으로 뭘 하고 싶어?\"",
        "nextScene": "district_b_minjun_quest_choice"
      }
    ]
  },
  {
    "id": "district_b_minjun_quest_choice",
    "type": "dialogue",
    "background": "boss",
    "speaker": "minjun",
    "text": "민준이 오래 생각한다.\n\n\"두 가지가 떠올라.\"\n\n\"하나는 — 이 노트북을 부수는 거야. 나를 여기 가둔 건 이 기계니까. 부수면 자유로워질 것 같아.\"\n\n\"다른 하나는 — 마지막으로 코드를 하나 쓰는 거야. 처음 시작했을 때처럼. 누군가를 위한 코드를.\"\n\n\"어떻게 생각해?\"",
    "choices": [
      {
        "text": "\"부숴. 새로 시작하자.\"",
        "effects": [
          { "type": "modifyKarma", "value": -3 },
          { "type": "modifyCompanionTrust", "companion": "minjun", "value": 15 },
          { "type": "setFlag", "flag": "minjun_destroyed_laptop" }
        ],
        "nextScene": "district_b_minjun_quest_destroy"
      },
      {
        "text": "\"코드를 써. 처음처럼.\"",
        "effects": [
          { "type": "modifyKarma", "value": 5 },
          { "type": "modifyCompanionTrust", "companion": "minjun", "value": 20 },
          { "type": "setFlag", "flag": "minjun_coded_again" }
        ],
        "nextScene": "district_b_minjun_quest_code"
      }
    ]
  },
  {
    "id": "district_b_minjun_quest_destroy",
    "type": "dialogue",
    "background": "boss",
    "speaker": "minjun",
    "text": "민준이 노트북을 들어올린다. 그리고 바닥에 내리친다.\n\n쾅.\n\n화면이 갈라지고, 키보드가 튀어나온다. ESC 키가 공중에서 빙글 돌더니 바닥에 떨어진다.\n\n\"...가볍다.\"\n\n민준이 손을 본다. 떨리던 손이 멈춰있다.\n\n\"미안, 노트북. 고마웠어. 근데 이제 됐어.\"\n\n그가 ESC 키만 주워 주머니에 넣는다.\n\n\"이건 가지고 있을게. 탈출하라는 뜻이니까.\"",
    "effects": [
      { "type": "addAbyssMemory", "id": "mem_minjun_freedom", "label": "민준이 노트북을 부순 날", "weight": 4, "source": "district_b" }
    ],
    "choices": [
      {
        "text": "플랫폼 0으로 돌아간다",
        "nextScene": "hub_platform0"
      }
    ]
  },
  {
    "id": "district_b_minjun_quest_code",
    "type": "dialogue",
    "background": "boss",
    "speaker": "minjun",
    "text": "민준이 키보드에 손을 올린다. 오랫만에 — 마감이 아닌 코드를 쓴다.\n\n화면에 한 줄씩 나타난다:\n\nfunction hope() {\n  if (tired) {\n    rest();\n  }\n  return \"내일도 살아있자\";\n}\n\n민준이 웃는다. 코드를 쓰며 웃는 건 — 대학교 2학년 이후 처음이다.\n\n\"고마워. 이게 내가 하고 싶은 코딩이었어.\"\n\n\"'희망'이라는 함수. 간단하지? 피곤하면 쉬고, 내일도 살아있자.\"\n\n\"...이 코드를 서버에 남겨둘게. 누군가 찾으면 좋겠다.\"",
    "effects": [
      { "type": "addAbyssMemory", "id": "mem_minjun_hope_code", "label": "민준의 마지막 코드 — hope()", "weight": 4, "source": "district_b" }
    ],
    "choices": [
      {
        "text": "플랫폼 0으로 돌아간다",
        "nextScene": "hub_platform0"
      }
    ]
  }
]
